{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./src/ship.js","webpack://webpack-template/./src/gameboard.js","webpack://webpack-template/./src/player.js","webpack://webpack-template/./src/dom.js","webpack://webpack-template/./src/index.js","webpack://webpack-template/./src/controller.js"],"sourcesContent":["export class Ship {\n  length;\n  numberOfHits = 0;\n  name;\n\n  constructor(length) {\n    this.length = length;\n  }\n\n  hit() {\n    this.numberOfHits++;\n  }\n  isSunk() {\n    if (this.numberOfHits === this.length) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  setName(name) {\n    this.name = name;\n  }\n  getName() {\n    return this.name;\n  }\n}\n","import { Ship } from \"./ship\";\nexport class Gameboard {\n  missedAttacks = [];\n  successfulAttacks = [];\n  placedShips = [];\n  sunkShips = [];\n  board;\n  letters = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n  constructor() {\n    this.board = {\n      A: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      B: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      C: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      D: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      E: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      F: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      G: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      H: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      I: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n      J: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\n    };\n  }\n  setShip(shipLength, [startRow, startColumn], [endRow, endColumn], name) {\n    if (\n      !this.areCoordinatesAvailable(\n        [startRow, startColumn],\n        [endRow, endColumn],\n      )\n    )\n      return null;\n    let shipPath = this.getShipPath(\n      [startRow, startColumn],\n      [endRow, endColumn],\n    );\n    const ship = new Ship(shipLength);\n    ship.setName(name);\n    this.placedShips.push([ship, shipPath]);\n    return true;\n  }\n  areCoordinatesAvailable([startRow, startColumn], [endRow, endColumn]) {\n    if (startRow !== endRow && startColumn !== endColumn) return false;\n    let shipPath = this.getShipPath(\n      [startRow, startColumn],\n      [endRow, endColumn],\n    );\n    if (!this.areCoordinatesWithinBounds(shipPath)) return false;\n    if (this.isAnyCoordinateOfPathTaken(shipPath)) return false;\n    return true;\n  }\n  getShipPath([startRow, startColumn], [endRow, endColumn]) {\n    if (startRow === endRow) {\n      let smallerColumn;\n      let largerColumn;\n      if (startColumn < endColumn) {\n        smallerColumn = startColumn;\n        largerColumn = endColumn;\n      } else {\n        smallerColumn = endColumn;\n        largerColumn = startColumn;\n      }\n      return this.getShipColumnPath(smallerColumn, largerColumn, startRow);\n    } else {\n      let smallerRow;\n      let largerRow;\n\n      if (startRow < endRow) {\n        smallerRow = startRow;\n        largerRow = endRow;\n      } else {\n        smallerRow = endRow;\n        largerRow = startRow;\n      }\n      let indexOfSmallerRow = this.letters.indexOf(smallerRow);\n      let indexOfLargerRow = this.letters.indexOf(largerRow);\n      return this.getShipRowPath(\n        indexOfSmallerRow,\n        indexOfLargerRow,\n        startColumn,\n      );\n    }\n  }\n  getShipRowPath(indexOfSmallerRow, indexOfLargerRow, column) {\n    let shipPath = [];\n    for (let i = indexOfSmallerRow; i <= indexOfLargerRow; i++) {\n      shipPath.push([this.letters[i], column]);\n    }\n    return shipPath;\n  }\n  getShipColumnPath(smallerColumn, largerColumn, row) {\n    let shipPath = [];\n    for (let i = smallerColumn; i <= largerColumn; i++) {\n      shipPath.push([row, i]);\n    }\n    return shipPath;\n  }\n  isAnyCoordinateOfPathTaken(shipPath) {\n    for (let i = 0; i < shipPath.length; i++) {\n      if (\n        this.isCoordinateTakenByAShip(shipPath[i]) ||\n        this.wasTheCoordinateShotAlready(shipPath[i])\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n  isCoordinateTakenByAShip([row, column]) {\n    return this.placedShips\n      .flatMap((ship) => ship[1])\n      .some((coord) => coord[0] === row && coord[1] === column);\n  }\n  receiveAttack([row, column]) {\n    if (this.wasTheCoordinateShotAlready([row, column])) return null;\n    else if (this.isCoordinateTakenByAShip([row, column])) {\n      let ship = this.getShipThatWasHit([row, column]);\n      ship.hit();\n      this.successfulAttacks.push([row, column]);\n      if (ship.isSunk()) {\n        this.sunkShips.push(ship);\n      }\n      return true;\n    } else {\n      this.missedAttacks.push([row, column]);\n      return false;\n    }\n  }\n  wasTheCoordinateShotAlready([row, column]) {\n    return (\n      this.missedAttacks.some(\n        (attack) => attack[0] === row && attack[1] === column,\n      ) ||\n      this.successfulAttacks.some(\n        (attack) => attack[0] === row && attack[1] === column,\n      )\n    );\n  }\n  getShipThatWasHit([row, column]) {\n    const placedShipEntry = this.placedShips.find((ship) =>\n      ship[1].some(\n        (coordinate) => coordinate[0] === row && coordinate[1] === column,\n      ),\n    );\n    return placedShipEntry ? placedShipEntry[0] : null;\n  }\n  haveAllShipsBeenSunk() {\n    const allShipCoordinates = this.placedShips.flatMap((ship) => ship[1]);\n\n    return allShipCoordinates.every((coordinate) =>\n      this.successfulAttacks.some(\n        (attack) => attack[0] === coordinate[0] && attack[1] === coordinate[1],\n      ),\n    );\n  }\n  hasLastAttackSunkAShip() {\n    const lastSuccessfulAttack =\n      this.successfulAttacks[this.successfulAttacks.length - 1];\n    const shipThatWasHit = this.getShipThatWasHit(lastSuccessfulAttack);\n    return shipThatWasHit.isSunk();\n  }\n  getLastSunkShip() {\n    return this.sunkShips[this.sunkShips.length - 1];\n  }\n  setShipsRandomly() {\n    if (this.placedShips.length != 0) this.placedShips = [];\n    for (let i = 2; i < 6; i++) {\n      let shipPath = this.getRandomAvailableShipPath(i);\n      const ship = new Ship(i);\n      ship.setName(this.getShipNameFromLength(i));\n      this.placedShips.push([ship, shipPath]);\n      if (i === 3) {\n        let shipPath = this.getRandomAvailableShipPath(i);\n        const ship = new Ship(i);\n        ship.setName(this.getShipNameFromLength(i, \"S\"));\n        this.placedShips.push([ship, shipPath]);\n      }\n    }\n  }\n  getRandomAvailableShipPath(length) {\n    let shipPath;\n    while (true) {\n      let startRow;\n      let startColumn;\n      let randomIntForStartRow;\n      let randomIntForStartColumn;\n\n      //Randomize whether the ship will be placed along x or y axis\n      let randomPlacementInt = this.getRandomInt(1, 2);\n      if (randomPlacementInt === 1) {\n        //Row changes\n        randomIntForStartRow = this.getRandomInt(0, 10 - length);\n        startRow = randomIntForStartRow;\n        startColumn = this.getRandomInt(1, 10);\n\n        shipPath = this.getShipRowPath(\n          startRow,\n          startRow + length - 1,\n          startColumn,\n        );\n      } else if (randomPlacementInt === 2) {\n        //Column changes\n        randomIntForStartColumn = this.getRandomInt(1, 11 - length);\n        startColumn = randomIntForStartColumn;\n        startRow = this.letters[this.getRandomInt(0, 9)];\n\n        shipPath = this.getShipColumnPath(\n          startColumn,\n          startColumn + length - 1,\n          startRow,\n        );\n      }\n\n      //check whether the shipPath is available\n      if (\n        this.isAnyCoordinateOfPathTaken(shipPath) ||\n        !this.areCoordinatesWithinBounds(shipPath)\n      )\n        continue;\n      break;\n    }\n    return shipPath;\n  }\n  getShipNameFromLength(length, variant = \"\") {\n    switch (length) {\n      case 2:\n        return \"Patrol Boat\";\n      case 3:\n        if (variant == \"S\") return \"Submarine\";\n        return \"Destroyer\";\n      case 4:\n        return \"Battleship\";\n      case 5:\n        return \"Carrier\";\n    }\n  }\n  getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n  areCoordinatesWithinBounds(shipPath) {\n    return shipPath.every(\n      (coordinatePair) =>\n        coordinatePair[0] >= \"A\" &&\n        coordinatePair[0] <= \"J\" &&\n        coordinatePair[1] >= 1 &&\n        coordinatePair[1] <= 10,\n    );\n  }\n}\n","import { Gameboard } from \"./gameboard\";\nexport class Player {\n  gameboard;\n  domGameboard;\n  name;\n  mode;\n  attackResults = [];\n  constructor(name) {\n    this.gameboard = new Gameboard();\n    this.name = name;\n  }\n  setDomGameboard(gameboard) {\n    this.domGameboard = gameboard;\n  }\n  getDomGameboard() {\n    return this.domGameboard;\n  }\n  getGameboard() {\n    return this.gameboard;\n  }\n  getName() {\n    return this.name;\n  }\n  setName(name) {\n    this.name = name;\n  }\n  setMode(keyword) {\n    this.mode = keyword;\n  }\n  getMode() {\n    return this.mode;\n  }\n  automatedAttack(enemyDomGameboard, enemyGameboard) {\n    while (true) {\n      let allAttackedCells = this.attackResults.map((entry) => entry[0]);\n      const lastSuccessfulEntry = this.getCoordinateOfLastSuccessfulAttack();\n      if (lastSuccessfulEntry) {\n        let indexOfCurrentRow = this.gameboard.letters.indexOf(\n          lastSuccessfulEntry[0][0],\n        );\n        let currentColumnInt = parseInt(lastSuccessfulEntry.slice(1), 10);\n\n        if (\n          enemyGameboard.getShipThatWasHit([\n            enemyGameboard.letters[indexOfCurrentRow],\n            currentColumnInt,\n          ]) != enemyGameboard.getLastSunkShip()\n        ) {\n          const entriesOfLastHitShip =\n            this.getAllSuccessfulEntriesOfLastHitShip(enemyGameboard);\n\n          if (entriesOfLastHitShip.length >= 2) {\n            const allEntries = entriesOfLastHitShip;\n            const firstEntry = allEntries[0];\n            const lastEntry = allEntries[allEntries.length - 1];\n            const firstEntryAsArray = this.getCoordinateAsArray(firstEntry);\n            const lastEntryAsArray = this.getCoordinateAsArray(lastEntry);\n\n            while (true) {\n              let randomInt = this.gameboard.getRandomInt(1, 2);\n              let newCell;\n\n              if (firstEntry[0] === lastEntry[0]) {\n                //rows are same so need to move column\n                switch (randomInt) {\n                  case 1:\n                    newCell = this.getCellAdjacentByOne(\n                      3,\n                      this.gameboard.letters.indexOf(firstEntryAsArray[0]),\n                      firstEntryAsArray[1],\n                    );\n                    break;\n                  case 2:\n                    newCell = this.getCellAdjacentByOne(\n                      4,\n                      this.gameboard.letters.indexOf(lastEntryAsArray[0]),\n                      lastEntryAsArray[1],\n                    );\n                    break;\n                }\n              } else {\n                switch (randomInt) {\n                  case 1:\n                    newCell = this.getCellAdjacentByOne(\n                      1,\n                      this.gameboard.letters.indexOf(firstEntryAsArray[0]),\n                      firstEntryAsArray[1],\n                    );\n                    break;\n                  case 2:\n                    newCell = this.getCellAdjacentByOne(\n                      2,\n                      this.gameboard.letters.indexOf(lastEntryAsArray[0]),\n                      lastEntryAsArray[1],\n                    );\n                    break;\n                }\n              }\n              if (allAttackedCells.includes(newCell)) continue;\n              let newCellNode = enemyDomGameboard.querySelector(`.${newCell}`);\n              if (!newCellNode) continue;\n              newCellNode.click();\n              break;\n            }\n            return;\n          }\n          while (true) {\n            let randomInt = this.gameboard.getRandomInt(1, 4);\n            let adjacentCellClass = this.getCellAdjacentByOne(\n              randomInt,\n              indexOfCurrentRow,\n              currentColumnInt,\n            );\n\n            if (allAttackedCells.includes(adjacentCellClass)) continue;\n            let adjacentCellNode = enemyDomGameboard.querySelector(\n              `.${adjacentCellClass}`,\n            );\n            if (!adjacentCellNode) continue;\n            adjacentCellNode.click();\n            break;\n          }\n          return;\n        }\n      }\n      const hasAttacked = this.doRandomAttack(\n        enemyDomGameboard,\n        allAttackedCells,\n      );\n      if (hasAttacked) break;\n      continue;\n    }\n  }\n  getLastSuccessfulEntry() {\n    if (this.attackResults.length === 0) return false;\n    for (let i = this.attackResults.length - 1; i >= 0; i--) {\n      if (this.attackResults[i][1] === true) {\n        return this.attackResults[i];\n      }\n    }\n  }\n  getCoordinateOfLastSuccessfulAttack() {\n    let lastSuccessfulEntry = this.getLastSuccessfulEntry();\n    if (!lastSuccessfulEntry) return false;\n    return lastSuccessfulEntry[0];\n  }\n  getCoordinateAsArray(coordinate) {\n    return [coordinate[0], parseInt(coordinate.slice(1), 10)];\n  }\n  getAllSuccessfulEntriesOfLastHitShip(enemyGameboard) {\n    const lastSuccessfulAttack = this.getCoordinateOfLastSuccessfulAttack();\n    if (!lastSuccessfulAttack) return [];\n    const lastSuccessfulAttackAsAnArray =\n      this.getCoordinateAsArray(lastSuccessfulAttack);\n    const lastShipThatWasHit = enemyGameboard.getShipThatWasHit(\n      lastSuccessfulAttackAsAnArray,\n    );\n    let allEntriesOfLastHitShip = [];\n\n    this.attackResults.forEach((coordinate) => {\n      if (\n        enemyGameboard.getShipThatWasHit(\n          this.getCoordinateAsArray(coordinate[0]),\n        ) === lastShipThatWasHit\n      ) {\n        allEntriesOfLastHitShip.push(coordinate[0]);\n      }\n    });\n\n    return this.sortEntries(allEntriesOfLastHitShip);\n  }\n  sortEntries(entries) {\n    if (entries.length <= 1) return entries;\n    let entriesAsArrays = [];\n    entries.forEach((entry) => {\n      entriesAsArrays.push(this.getCoordinateAsArray(entry));\n    });\n    if (entriesAsArrays[0][0] === entriesAsArrays[1][0]) {\n      //rows are the same, so sort by column\n      entriesAsArrays.sort((a, b) => a[1] - b[1]);\n    } else {\n      entriesAsArrays.sort();\n    }\n    return entriesAsArrays.map((entry) => {\n      return entry[0] + entry[1];\n    });\n  }\n  getCellAdjacentByOne(randomInt, indexOfCurrentRow, currentColumnInt) {\n    let rowOfNewAttack;\n    let columnOfNewAttack;\n    switch (randomInt) {\n      case 1:\n        if (indexOfCurrentRow !== 0) {\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow - 1];\n        } else {\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow + 1];\n        }\n        columnOfNewAttack = currentColumnInt;\n        break;\n      case 2:\n        if (indexOfCurrentRow !== 9) {\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow + 1];\n        } else {\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow - 1];\n        }\n        columnOfNewAttack = currentColumnInt;\n        break;\n      case 3:\n        if (currentColumnInt !== 1) {\n          columnOfNewAttack = currentColumnInt - 1;\n        } else {\n          columnOfNewAttack = currentColumnInt + 1;\n        }\n        rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow];\n        break;\n      case 4:\n        if (currentColumnInt !== 10) {\n          columnOfNewAttack = currentColumnInt + 1;\n        } else {\n          columnOfNewAttack = currentColumnInt - 1;\n        }\n        rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow];\n    }\n    return rowOfNewAttack + columnOfNewAttack;\n  }\n  doRandomAttack(enemyDomGameboard, allAttackedCells) {\n    const randomColumnInt = this.gameboard.getRandomInt(1, 10);\n    const randomRowInt = this.gameboard.getRandomInt(0, 9);\n    const randomLetter = this.gameboard.letters[randomRowInt];\n    let targetClass = randomLetter + randomColumnInt;\n    let targetCell = enemyDomGameboard.querySelector(`.${targetClass}`);\n    if (allAttackedCells.includes(targetClass)) return false;\n    if (!targetCell) return false;\n    targetCell.click();\n    return true;\n  }\n}\n","export const handleDom = function () {\n  function createDomGameboard() {\n    const container = document.createElement(\"div\");\n    const letters = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\n\n    let board = document.createElement(\"div\");\n    board.classList.add(\"board\");\n\n    const columnDisplay = document.createElement(\"div\");\n    columnDisplay.classList.add(\"column-display\");\n\n    let rowDisplay = document.createElement(\"div\");\n    rowDisplay.classList.add(\"row-display\");\n\n    for (let i = 1; i <= 10; i++) {\n      let rowDisplayNumber = document.createElement(\"div\");\n      rowDisplayNumber.textContent = i;\n      rowDisplay.append(rowDisplayNumber);\n    }\n    for (let i = 0; i < 10; i++) {\n      let columnDisplayLetter = document.createElement(\"div\");\n      columnDisplayLetter.textContent = letters[i];\n      columnDisplay.append(columnDisplayLetter);\n      let column = document.createElement(\"div\");\n      column.classList.add(\"column\");\n      column.classList.add(letters[i]);\n      for (let j = 1; j <= 10; j++) {\n        let cell = document.createElement(\"div\");\n        column.appendChild(cell);\n        cell.classList.add(\"cell\");\n        cell.classList.add(letters[i] + j);\n        cell.style.backgroundColor = \"white\";\n      }\n      board.appendChild(column);\n    }\n    container.appendChild(columnDisplay);\n    container.appendChild(rowDisplay);\n    container.append(board);\n    return container;\n  }\n  function placeShipsOnGameboard(gameboard, domboard) {\n    const allCells = domboard.querySelectorAll(\".cell\");\n    const placedShips = gameboard.placedShips;\n    let coordinatesOfPlacedShips = placedShips.flatMap(\n      (shipPath) => shipPath[1],\n    );\n    const classNamesOfShipCoordinates = coordinatesOfPlacedShips.map(\n      (coordinate) => coordinate[0] + coordinate[1],\n    );\n\n    classNamesOfShipCoordinates.forEach((className) => {\n      const cell = Array.from(allCells).find((cell) =>\n        cell.classList.contains(className),\n      );\n      if (\n        cell.style.backgroundColor !== \"rgb(29, 137, 187, 1)\" &&\n        cell.style.backgroundColor !== \"rgb(200, 40, 35)\"\n      ) {\n        cell.style.backgroundColor = \"rgb(128, 128, 128)\";\n      }\n    });\n  }\n  function removeShipsFromDOMGameboard(domGameboard) {\n    const allCells = domGameboard.querySelectorAll(\".cell\");\n    allCells.forEach((cell) => {\n      cell.style.backgroundColor = \"white\";\n    });\n  }\n  function hideShipPlacementFromDOMGameboard(domGameboard) {\n    const allCells = domGameboard.querySelectorAll(\".cell\");\n    allCells.forEach((cell) => {\n      if (cell.style.backgroundColor === \"rgb(128, 128, 128)\")\n        cell.style.backgroundColor = \"white\";\n    });\n  }\n  function appendGameboardOnDOM(gameboard, playerName) {\n    const main = document.querySelector(\"main\");\n    gameboard.classList.add(\"board-container\");\n    gameboard.classList.add(playerName);\n    main.appendChild(gameboard);\n  }\n  function renderInfoContainer() {\n    const infoContainer = document.createElement(\"div\");\n    infoContainer.classList.add(\"info-container\");\n    document.querySelector(\"main\").appendChild(infoContainer);\n  }\n  function markMissedAttacksOnDOMGameboard(gameboard, domboard) {\n    const allCells = domboard.querySelectorAll(\".cell\");\n    let coordinatesOfMissedAttacks = gameboard.missedAttacks;\n    const classNamesOfShipCoordinates = coordinatesOfMissedAttacks.map(\n      (coordinate) => coordinate[0] + coordinate[1],\n    );\n\n    classNamesOfShipCoordinates.forEach((className) => {\n      const cell = Array.from(allCells).find((cell) =>\n        cell.classList.contains(className),\n      );\n      cell.style.backgroundColor = \"rgb(29, 137, 187, 1)\";\n    });\n  }\n  function markSuccessfulAttacksOnDOMGameboard(gameboard, domboard) {\n    const allCells = domboard.querySelectorAll(\".cell\");\n    let coordinatesOfMissedAttacks = gameboard.successfulAttacks;\n    const classNamesOfShipCoordinates = coordinatesOfMissedAttacks.map(\n      (coordinate) => coordinate[0] + coordinate[1],\n    );\n\n    classNamesOfShipCoordinates.forEach((className) => {\n      const cell = Array.from(allCells).find((cell) =>\n        cell.classList.contains(className),\n      );\n      cell.style.backgroundColor = \"rgb(200, 40, 35)\";\n    });\n  }\n  function showMessageOnInfoContainer(player, keyword, shipName = \"\") {\n    const infoContainer = document.querySelector(\".info-container\");\n    switch (keyword) {\n      case \"hit\":\n        infoContainer.textContent = \"You hit an enemy ship!\";\n        break;\n      case \"sunk\":\n        infoContainer.textContent =\n          \"You have sunk the enemies \" + shipName + \"!\";\n        break;\n      case \"missed\":\n        infoContainer.textContent = \"You missed!\";\n        break;\n      case \"null\":\n        infoContainer.textContent = \"You can't attack the same cell twice!\";\n        break;\n      case \"start\":\n        infoContainer.textContent = \"You start, \" + player.getName() + \"!\";\n        break;\n      case \"turn\":\n        infoContainer.textContent = \"Your turn, \" + player.getName() + \"!\";\n        break;\n    }\n  }\n  function showMessageInInfoContainerForPlayerVsPC(\n    player,\n    keyword,\n    shipName = \"\",\n  ) {\n    const infoContainer = document.querySelector(\".info-container\");\n    if (player.getMode() === \"PC\") {\n      switch (keyword) {\n        case \"hit\":\n          infoContainer.textContent = \"The enemy has hit one of your ships!\";\n          break;\n        case \"sunk\":\n          infoContainer.textContent =\n            \"The enemy has sunk your \" + shipName + \"!\";\n          break;\n        case \"missed\":\n          infoContainer.textContent = \"The enemy missed!\";\n          break;\n      }\n    } else if (player.getMode() === \"Human\") {\n      switch (keyword) {\n        case \"hit\":\n          infoContainer.textContent = \"You hit an enemy ship!\";\n          break;\n        case \"sunk\":\n          infoContainer.textContent =\n            \"You have sunk the enemies \" + shipName + \"!\";\n          break;\n        case \"missed\":\n          infoContainer.textContent = \"You missed!\";\n          break;\n        case \"null\":\n          infoContainer.textContent = \"You can't attack the same cell twice!\";\n          break;\n        case \"start\":\n          infoContainer.textContent = \"You start, \" + player.getName() + \"!\";\n          break;\n      }\n    }\n  }\n  function renderChooseModeScreen() {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"choose-mode-screen\");\n    const h2 = document.createElement(\"h2\");\n    h2.textContent = \"Choose your opponent\";\n    const playerButton = document.createElement(\"button\");\n    playerButton.classList.add(\"player-button\");\n    playerButton.textContent = \"Local Player\";\n    const pcButton = document.createElement(\"button\");\n    pcButton.classList.add(\"pc-button\", \"active-mode\");\n    pcButton.textContent = \"Computer\";\n    const chooseModeNextButton = document.createElement(\"button\");\n    chooseModeNextButton.textContent = \"Next\";\n    chooseModeNextButton.classList.add(\"next-button\", \"choose-mode\");\n    div.appendChild(h2);\n    div.appendChild(pcButton);\n    div.appendChild(playerButton);\n    div.appendChild(chooseModeNextButton);\n    document.querySelector(\"main\").appendChild(div);\n  }\n  function removeChooseModeScreen() {\n    document.querySelector(\".choose-mode-screen\").remove();\n  }\n  function renderSetupScreen(domGameboard) {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"setup-screen\");\n    const nameInput = document.createElement(\"input\");\n    const nameLabel = document.createElement(\"label\");\n    nameInput.id = \"name\";\n    nameInput.type = \"text\";\n    nameLabel.htmlFor = \"name\";\n    nameLabel.textContent = \"Enter Your Name:\";\n    const intro = document.createElement(\"h2\");\n    intro.textContent = \"Choose Your Ship Placement:\";\n    const shuffleButton = document.createElement(\"button\");\n    shuffleButton.textContent = \"Shuffle\";\n    shuffleButton.classList.add(\"shuffle-button\");\n    const setupNextButton = document.createElement(\"button\");\n    setupNextButton.textContent = \"Next\";\n    setupNextButton.classList.add(\"next-button\", \"setup\");\n    domGameboard.classList.add(\"board-container\");\n    const main = document.querySelector(\"main\");\n    nameLabel.appendChild(nameInput);\n    main.appendChild(div);\n    div.appendChild(nameLabel);\n    div.appendChild(intro);\n    div.appendChild(shuffleButton);\n    div.appendChild(domGameboard);\n    div.appendChild(setupNextButton);\n  }\n  function removeSetupScreen() {\n    document.querySelector(\".setup-screen\").remove();\n  }\n  function renderEndScreen(winner) {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"end-screen\");\n    const endH2 = document.createElement(\"h2\");\n    endH2.textContent = `${winner.getName()} won!`;\n\n    const newGameButton = document.createElement(\"button\");\n    newGameButton.textContent = \"new game\";\n    newGameButton.classList.add(\"new-game\");\n\n    const pageCoverDiv = document.createElement(\"div\");\n    pageCoverDiv.classList.add(\"page-cover\");\n    const main = document.querySelector(\"main\");\n    div.appendChild(endH2);\n    div.appendChild(newGameButton);\n    main.appendChild(div);\n    document.querySelector(\"#root\").appendChild(pageCoverDiv);\n    if (document.querySelector(\".info-container\"))\n      document.querySelector(\".info-container\").remove();\n  }\n  function removeEndScreen() {\n    document.querySelector(\".end-screen\").remove();\n    document.querySelector(\".page-cover\").remove();\n    if (document.querySelector(\".game-layout\")) removeGameViewClassFromMain();\n  }\n  function renderPassDeviceScreen(player) {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"pass-device-screen\");\n    const button = document.createElement(\"button\");\n    button.textContent = \"Ready\";\n    button.classList.add(\"ready-button\");\n    const h1 = document.createElement(\"h1\");\n    h1.textContent = `Pass device to ${player.getName()}`;\n    div.appendChild(h1);\n    div.appendChild(button);\n    document.querySelector(\"main\").appendChild(div);\n\n    const pageCoverDiv = document.createElement(\"div\");\n    pageCoverDiv.classList.add(\"page-cover\");\n\n    document.querySelector(\"#root\").appendChild(pageCoverDiv);\n  }\n  function removePassDeviceScreen() {\n    document.querySelector(\".pass-device-screen\").remove();\n  }\n  function renderEndTurnButton() {\n    const button = document.createElement(\"button\");\n    button.classList.add(\"end-turn-button\");\n    button.textContent = \"End Turn\";\n    document.querySelector(\"main\").appendChild(button);\n  }\n  function removeEndTurnButton() {\n    document.querySelector(\".end-turn-button\").remove();\n  }\n\n  function switchGameboardVisibility(waitingPlayer, playingPlayer) {\n    document.querySelector(\".page-cover\").remove();\n    removePassDeviceScreen();\n    hideShipPlacementFromDOMGameboard(playingPlayer.getDomGameboard());\n    placeShipsOnGameboard(\n      waitingPlayer.gameboard,\n      waitingPlayer.getDomGameboard(),\n    );\n\n    markMissedAttacksOnDOMGameboard(\n      playingPlayer.gameboard,\n      playingPlayer.getDomGameboard(),\n    );\n    markSuccessfulAttacksOnDOMGameboard(\n      playingPlayer.gameboard,\n      playingPlayer.getDomGameboard(),\n    );\n\n    markMissedAttacksOnDOMGameboard(\n      waitingPlayer.gameboard,\n      waitingPlayer.getDomGameboard(),\n    );\n    markSuccessfulAttacksOnDOMGameboard(\n      waitingPlayer.gameboard,\n      waitingPlayer.getDomGameboard(),\n    );\n  }\n  function addGameViewClassToMain() {\n    document.querySelector(\"main\").classList.add(\"game-layout\");\n  }\n  function removeGameViewClassFromMain() {\n    document.querySelector(\"main\").classList.remove(\"game-layout\");\n  }\n\n  return {\n    createDomGameboard,\n    placeShipsOnGameboard,\n    appendGameboardOnDOM,\n    markMissedAttacksOnDOMGameboard,\n    markSuccessfulAttacksOnDOMGameboard,\n    showMessageOnInfoContainer,\n    renderSetupScreen,\n    removeShipsFromDOMGameboard,\n    removeSetupScreen,\n    showMessageInInfoContainerForPlayerVsPC,\n    renderEndScreen,\n    removeEndScreen,\n    renderChooseModeScreen,\n    removeChooseModeScreen,\n    renderPassDeviceScreen,\n    removePassDeviceScreen,\n    hideShipPlacementFromDOMGameboard,\n    renderEndTurnButton,\n    removeEndTurnButton,\n    switchGameboardVisibility,\n    renderInfoContainer,\n    addGameViewClassToMain,\n    removeGameViewClassFromMain,\n  };\n};\n","import \"./styles.css\";\nimport { Player } from \"./player\";\nimport { handleDom } from \"./dom\";\nimport { gameController } from \"./controller\";\n\nexport const game = function () {\n  const domHandler = handleDom();\n  const eventHandler = eventListeners();\n\n  //Create players and their DOMBoards (board instances are created inside the constructor)\n  const player1 = new Player(\"Player1\");\n  const player2 = new Player(\"Player2\");\n  const player1DomGameboard = domHandler.createDomGameboard();\n  const player2DomGameboard = domHandler.createDomGameboard();\n  player1.setDomGameboard(player1DomGameboard);\n  player2.setDomGameboard(player2DomGameboard);\n  player1.setMode(\"Human\");\n\n  //Set players for EventHandler\n  eventHandler.setPlayers(player1, player2);\n\n  //Render Choose-mode-screen ( Entry point for game logic )\n  domHandler.renderChooseModeScreen();\n  eventHandler.setEventListenersOnChooseModeScreen();\n};\n\nfunction endGame(playerName) {\n  const infoContainer = document.querySelector(\".info-container\");\n  infoContainer.textContent = playerName + \" has won!\";\n}\n\nfunction resetGame() {\n  document\n    .querySelectorAll(\".board-container\")\n    .forEach((board) => board.remove());\n  const infoContainer = document.querySelector(\".info-container\");\n  if (infoContainer) infoContainer.textContent = \"\";\n  const domHandler = handleDom();\n  domHandler.removeEndScreen();\n  game();\n}\n\nexport const eventListeners = function () {\n  const domHandler = handleDom();\n  let player1;\n  let player2;\n  let controller;\n\n  function setPlayers(p1, p2) {\n    player1 = p1;\n    player2 = p2;\n  }\n\n  function setEventListenerOnReadyButton(callback) {\n    const readyButton = document.querySelector(\".ready-button\");\n    if (readyButton) {\n      readyButton.addEventListener(\"click\", callback);\n    }\n  }\n\n  function setEventListenersOnSetupScreenForPlayer1() {\n    const nameInput = document.getElementById(\"name\");\n    if (nameInput) nameInput.value = \"Player1\";\n    const shuffleButton = document.querySelector(\".shuffle-button\");\n    document.querySelector(\".setup-screen\").classList.add(\"PVP-player1\");\n    if (shuffleButton) {\n      const startDomGameboard = document.querySelector(\n        \".setup-screen .board-container\",\n      );\n      shuffleButton.addEventListener(\"click\", function () {\n        player1.gameboard.setShipsRandomly();\n        domHandler.removeShipsFromDOMGameboard(startDomGameboard);\n        domHandler.placeShipsOnGameboard(player1.gameboard, startDomGameboard);\n      });\n    }\n    const setupNextButton = document.querySelector(\".next-button.setup\");\n    if (setupNextButton) {\n      setupNextButton.addEventListener(\"click\", function () {\n        const nameInput = document.getElementById(\"name\");\n        const name = nameInput?.value ?? \"Player1\";\n        if (name) player1.setName(name);\n\n        domHandler.placeShipsOnGameboard(\n          player1.gameboard,\n          player1.getDomGameboard(),\n        );\n        controller.transitionFromPlayer1SetupToPlayer2PassDeviceScreen();\n      });\n    }\n  }\n\n  function setEventListenersOnSetupScreenForPlayer2() {\n    const nameInput = document.getElementById(\"name\");\n    if (nameInput) nameInput.value = \"Player2\";\n\n    const shuffleButton = document.querySelector(\".shuffle-button\");\n    document.querySelector(\".setup-screen\").classList.add(\"PVP-player2\");\n    if (shuffleButton) {\n      const startDomGameboard = document.querySelector(\n        \".setup-screen .board-container\",\n      );\n      shuffleButton.addEventListener(\"click\", function () {\n        player2.gameboard.setShipsRandomly();\n        domHandler.removeShipsFromDOMGameboard(startDomGameboard);\n        domHandler.placeShipsOnGameboard(player2.gameboard, startDomGameboard);\n      });\n    }\n    const setupNextButton = document.querySelector(\".next-button.setup\");\n    if (setupNextButton) {\n      setupNextButton.addEventListener(\"click\", function () {\n        const nameInput = document.getElementById(\"name\");\n        const name = nameInput?.value ?? \"Player2\";\n        if (name) player2.setName(name);\n\n        domHandler.placeShipsOnGameboard(\n          player2.gameboard,\n          player2.getDomGameboard(),\n        );\n        controller.transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen();\n      });\n    }\n  }\n\n  function setEventListenersOnSetupScreenForPlayerVsComputer() {\n    const nameInput = document.getElementById(\"name\");\n    if (nameInput) nameInput.value = \"Player1\";\n    const shuffleButton = document.querySelector(\".shuffle-button\");\n    if (shuffleButton) {\n      const startDomGameboard = document.querySelector(\n        \".setup-screen .board-container\",\n      );\n      document.querySelector(\".setup-screen\").classList.add(\"pvc\");\n      shuffleButton.addEventListener(\"click\", function () {\n        player1.gameboard.setShipsRandomly();\n        domHandler.removeShipsFromDOMGameboard(startDomGameboard);\n        domHandler.placeShipsOnGameboard(player1.gameboard, startDomGameboard);\n      });\n    }\n    const setupNextButton = document.querySelector(\".next-button.setup\");\n    if (setupNextButton) {\n      setupNextButton.addEventListener(\"click\", function () {\n        const nameInput = document.getElementById(\"name\");\n        const name = nameInput?.value ?? \"\";\n        if (name) player1.setName(name);\n\n        domHandler.removeSetupScreen();\n\n        player2.gameboard.setShipsRandomly();\n\n        domHandler.placeShipsOnGameboard(\n          player1.gameboard,\n          player1.getDomGameboard(),\n        );\n\n        domHandler.appendGameboardOnDOM(player1.getDomGameboard(), \"player1\");\n        domHandler.appendGameboardOnDOM(player2.getDomGameboard(), \"player2\");\n\n        setEventListenersOnGameboard(player2.getDomGameboard(), \"PVC\");\n        domHandler.renderInfoContainer();\n        domHandler.showMessageOnInfoContainer(player1, \"start\");\n      });\n    }\n  }\n\n  function setEventListenerOnEndTurnButton(playingPlayer, waitingPlayer) {\n    const endTurnButton = document.querySelector(\".end-turn-button\");\n    if (endTurnButton) {\n      endTurnButton.addEventListener(\"click\", function () {\n        domHandler.renderPassDeviceScreen(waitingPlayer);\n        domHandler.hideShipPlacementFromDOMGameboard(\n          playingPlayer.getDomGameboard(),\n        );\n        setEventListenerOnReadyButton(() => {\n          domHandler.switchGameboardVisibility(waitingPlayer, playingPlayer);\n          swapEventListenersOfGameboards(playingPlayer, waitingPlayer);\n          domHandler.addGameViewClassToMain();\n          domHandler.showMessageOnInfoContainer(waitingPlayer,\"turn\");\n        });\n        domHandler.removeEndTurnButton();\n      });\n    }\n  }\n  function swapEventListenersOfGameboards(playingPlayer) {\n    setEventListenersOnGameboard(playingPlayer.getDomGameboard(), \"PVP\");\n  }\n  function setEventListenersOnChooseModeScreen() {\n    const pcButton = document.querySelector(\".pc-button\");\n    const playerButton = document.querySelector(\".player-button\");\n    const chooseModeNextButton = document.querySelector(\n      \".next-button.choose-mode\",\n    );\n\n    pcButton.addEventListener(\"click\", function () {\n      playerButton.classList.remove(\"active-mode\");\n      pcButton.classList.add(\"active-mode\");\n    });\n    playerButton.addEventListener(\"click\", function () {\n      pcButton.classList.remove(\"active-mode\");\n      playerButton.classList.add(\"active-mode\");\n    });\n    chooseModeNextButton.addEventListener(\"click\", function () {\n      if (playerButton.classList.contains(\"active-mode\")) {\n        controller.transitionFromChooseModeToPlayer1PassDeviceScreen();\n      } else if (pcButton.classList.contains(\"active-mode\")) {\n        player2.setMode(\"PC\");\n        player2.setName(\"PC\");\n        domHandler.removeChooseModeScreen();\n        player1.gameboard.setShipsRandomly();\n        const setUpDomGameboard = domHandler.createDomGameboard();\n        domHandler.placeShipsOnGameboard(player1.gameboard, setUpDomGameboard);\n        domHandler.renderSetupScreen(setUpDomGameboard);\n        setEventListenersOnSetupScreenForPlayerVsComputer();\n      }\n    });\n  }\n\n  function setEventListenersOnGameboard(gameboard, mode) {\n    if (mode === \"PVP\") {\n      gameboard.addEventListener(\"click\", controller.handleClickOnGameBoard);\n    } else if (mode === \"PVC\") {\n      domHandler.addGameViewClassToMain();\n      gameboard.addEventListener(\n        \"click\",\n        controller.handleClickOnGameBoardForPlayerVsPC,\n      );\n    }\n  }\n\n  function removeEventListenersOnGameboard(gameboard, mode) {\n    if (mode === \"PVP\") {\n      gameboard.removeEventListener(\"click\", controller.handleClickOnGameBoard);\n    } else if (mode === \"PVC\") {\n      gameboard.removeEventListener(\n        \"click\",\n        controller.handleClickOnGameBoardForPlayerVsPC,\n      );\n    }\n  }\n\n  function setEventListenerOnNewGameButton() {\n    const newGameButton = document.querySelector(\".new-game\");\n    if (newGameButton) {\n      newGameButton.addEventListener(\"click\", resetGame);\n    }\n  }\n\n  controller = gameController({\n    domHandler,\n    getPlayers: () => ({ player1, player2 }),\n    setEventListenersOnGameboard,\n    removeEventListenersOnGameboard,\n    endGame,\n    setEventListenerOnNewGameButton,\n    setEventListenerOnEndTurnButton,\n    setEventListenerOnReadyButton,\n    setEventListenersOnSetupScreenForPlayer1,\n    setEventListenersOnSetupScreenForPlayer2,\n  });\n\n  return {\n    setEventListenersOnGameboard,\n    setPlayers,\n    removeEventListenersOnGameboard,\n    setEventListenerOnNewGameButton,\n    setEventListenersOnChooseModeScreen,\n    setEventListenersOnSetupScreenForPlayerVsComputer,\n  };\n};\n\nif (typeof process === \"undefined\" || process.env.NODE_ENV !== \"test\") {\n  game();\n}\n","export function gameController(deps) {\n  const {\n    domHandler,\n    getPlayers,\n    setEventListenersOnGameboard,\n    removeEventListenersOnGameboard,\n    endGame,\n    setEventListenerOnNewGameButton,\n    setEventListenerOnEndTurnButton,\n    setEventListenerOnReadyButton,\n    setEventListenersOnSetupScreenForPlayer1,\n    setEventListenersOnSetupScreenForPlayer2,\n  } = deps;\n\n  function transitionFromChooseModeToPlayer1PassDeviceScreen() {\n    const { player1 } = getPlayers();\n    domHandler.removeChooseModeScreen();\n    domHandler.renderPassDeviceScreen(player1);\n    setEventListenerOnReadyButton(\n      transitionFromPlayer1PassDeviceToPlayer1SetupScreen,\n    );\n  }\n\n  function transitionFromPlayer1PassDeviceToPlayer1SetupScreen() {\n    const { player1 } = getPlayers();\n    domHandler.removePassDeviceScreen();\n    document.querySelector(\".page-cover\").remove();\n    player1.gameboard.setShipsRandomly();\n    const startDomGameboard = domHandler.createDomGameboard();\n    domHandler.placeShipsOnGameboard(player1.gameboard, startDomGameboard);\n    domHandler.renderSetupScreen(startDomGameboard);\n    setEventListenersOnSetupScreenForPlayer1();\n  }\n\n  function transitionFromPlayer1SetupToPlayer2PassDeviceScreen() {\n    const { player2 } = getPlayers();\n    domHandler.removeSetupScreen();\n    domHandler.renderPassDeviceScreen(player2);\n    setEventListenerOnReadyButton(\n      transitionFromPlayer2PassDeviceToPlayer2SetupScreen,\n    );\n  }\n\n  function transitionFromPlayer2PassDeviceToPlayer2SetupScreen() {\n    const { player2 } = getPlayers();\n    domHandler.removePassDeviceScreen();\n    document.querySelector(\".page-cover\").remove();\n    player2.gameboard.setShipsRandomly();\n    const startDomGameboard = domHandler.createDomGameboard();\n    domHandler.placeShipsOnGameboard(player2.gameboard, startDomGameboard);\n    domHandler.renderSetupScreen(startDomGameboard);\n    setEventListenersOnSetupScreenForPlayer2();\n  }\n\n  function transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen() {\n    const { player1 } = getPlayers();\n    domHandler.removeSetupScreen();\n    domHandler.renderPassDeviceScreen(player1);\n    setEventListenerOnReadyButton(transitionFromPlayer1PassDeviceScreenToGame);\n  }\n\n  function transitionFromPlayer1PassDeviceScreenToGame() {\n    const { player1, player2 } = getPlayers();\n    domHandler.removePassDeviceScreen();\n    document.querySelector(\".page-cover\").remove();\n    domHandler.hideShipPlacementFromDOMGameboard(player2.getDomGameboard());\n    domHandler.appendGameboardOnDOM(player1.getDomGameboard(), \"Player1\");\n    domHandler.appendGameboardOnDOM(player2.getDomGameboard(), \"Player2\");\n    setEventListenersOnGameboard(player2.getDomGameboard(), \"PVP\");\n    domHandler.renderInfoContainer();\n    domHandler.showMessageOnInfoContainer(player1, \"start\");\n    domHandler.addGameViewClassToMain();\n  }\n\n  function getClassFromDomCell(event) {\n    let coordinateClass;\n    for (const className of event.target.classList) {\n      if (/^[A-J](10|[1-9])$/.test(className)) {\n        coordinateClass = className;\n        break;\n      }\n    }\n    return coordinateClass;\n  }\n\n  function getCoordinateAsArrayFromClass(coordinateClass) {\n    return [coordinateClass[0], parseInt(coordinateClass.slice(1), 10)];\n  }\n\n  function handleClickOnGameBoardForPlayerVsPC(event) {\n    const { player1, player2 } = getPlayers();\n    const pcPlayer = player2;\n    const gameboard = event.currentTarget;\n    if (!event.target.classList.contains(\"cell\")) return;\n    const coordinateClass = getClassFromDomCell(event);\n    if (!coordinateClass) return;\n    const coordinateAsArray = getCoordinateAsArrayFromClass(coordinateClass);\n\n    let waitingPlayer;\n    let playingPlayer;\n    if (pcPlayer.getDomGameboard() === gameboard) {\n      waitingPlayer = pcPlayer;\n      playingPlayer = player1;\n    } else {\n      waitingPlayer = player1;\n      playingPlayer = pcPlayer;\n    }\n\n    const attackResult =\n      waitingPlayer.gameboard.receiveAttack(coordinateAsArray);\n    if (waitingPlayer === pcPlayer) {\n      if (attackResult === false) {\n        removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVC\");\n        domHandler.markMissedAttacksOnDOMGameboard(\n          waitingPlayer.gameboard,\n          waitingPlayer.getDomGameboard(),\n        );\n        domHandler.showMessageInInfoContainerForPlayerVsPC(\n          playingPlayer,\n          \"missed\",\n        );\n        setTimeout(() => {\n          setEventListenersOnGameboard(playingPlayer.getDomGameboard(), \"PVC\");\n          pcPlayer.automatedAttack(\n            playingPlayer.getDomGameboard(),\n            playingPlayer.getGameboard(),\n          );\n        }, 1000);\n        return;\n      } else if (attackResult === true) {\n        domHandler.markSuccessfulAttacksOnDOMGameboard(\n          waitingPlayer.gameboard,\n          waitingPlayer.getDomGameboard(),\n        );\n        if (waitingPlayer.gameboard.haveAllShipsBeenSunk() === true) {\n          removeEventListenersOnGameboard(\n            waitingPlayer.getDomGameboard(),\n            \"PVC\",\n          );\n          endGame(playingPlayer.getName());\n          domHandler.renderEndScreen(playingPlayer);\n          setEventListenerOnNewGameButton();\n          return;\n        }\n        if (waitingPlayer.gameboard.hasLastAttackSunkAShip()) {\n          const lastSunkShip = waitingPlayer.gameboard.getLastSunkShip();\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\n            playingPlayer,\n            \"sunk\",\n            lastSunkShip.getName(),\n          );\n        } else {\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\n            playingPlayer,\n            \"hit\",\n          );\n        }\n        return;\n      } else {\n        domHandler.showMessageInInfoContainerForPlayerVsPC(\n          playingPlayer,\n          \"null\",\n        );\n        return;\n      }\n    } else if (playingPlayer === pcPlayer) {\n      //false\n      if (attackResult === false) {\n        removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVC\");\n        setEventListenersOnGameboard(playingPlayer.getDomGameboard(), \"PVC\");\n        domHandler.markMissedAttacksOnDOMGameboard(\n          waitingPlayer.gameboard,\n          waitingPlayer.getDomGameboard(),\n        );\n        domHandler.showMessageInInfoContainerForPlayerVsPC(\n          playingPlayer,\n          \"missed\",\n        );\n        pcPlayer.attackResults.push([coordinateClass, false]);\n      }\n      //true\n      else if (attackResult === true) {\n        domHandler.markSuccessfulAttacksOnDOMGameboard(\n          waitingPlayer.gameboard,\n          waitingPlayer.getDomGameboard(),\n        );\n        if (waitingPlayer.gameboard.haveAllShipsBeenSunk() === true) {\n          removeEventListenersOnGameboard(\n            waitingPlayer.getDomGameboard(),\n            \"PVC\",\n          );\n          endGame(playingPlayer.getName());\n          domHandler.renderEndScreen(playingPlayer);\n          setEventListenerOnNewGameButton();\n          return;\n        }\n        if (waitingPlayer.gameboard.hasLastAttackSunkAShip()) {\n          removeEventListenersOnGameboard(\n            waitingPlayer.getDomGameboard(),\n            \"PVC\",\n          );\n          const lastSunkShip = waitingPlayer.gameboard.getLastSunkShip();\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\n            playingPlayer,\n            \"sunk\",\n            lastSunkShip.getName(),\n          );\n        } else {\n          removeEventListenersOnGameboard(\n            waitingPlayer.getDomGameboard(),\n            \"PVC\",\n          );\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\n            playingPlayer,\n            \"hit\",\n          );\n        }\n        pcPlayer.attackResults.push([coordinateClass, true]);\n        setTimeout(() => {\n          setEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVC\");\n          pcPlayer.automatedAttack(\n            waitingPlayer.getDomGameboard(),\n            waitingPlayer.getGameboard(),\n          );\n        }, 1000);\n        return;\n      }\n    }\n  }\n\n  function handleClickOnGameBoard(event) {\n    const { player1, player2 } = getPlayers();\n    const gameboard = event.currentTarget;\n    if (!event.target.classList.contains(\"cell\")) return;\n    const coordinateClass = getClassFromDomCell(event);\n    if (!coordinateClass) return;\n    const coordinateAsArray = getCoordinateAsArrayFromClass(coordinateClass);\n\n    let waitingPlayer;\n    let playingPlayer;\n\n    if (player2.getDomGameboard() === gameboard) {\n      waitingPlayer = player2;\n      playingPlayer = player1;\n    } else {\n      waitingPlayer = player1;\n      playingPlayer = player2;\n    }\n\n    const attackResult =\n      waitingPlayer.gameboard.receiveAttack(coordinateAsArray);\n    if (attackResult === false) {\n      removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVP\");\n      domHandler.markMissedAttacksOnDOMGameboard(\n        waitingPlayer.gameboard,\n        waitingPlayer.getDomGameboard(),\n      );\n      domHandler.showMessageOnInfoContainer(playingPlayer, \"missed\");\n      domHandler.renderEndTurnButton();\n      setEventListenerOnEndTurnButton(playingPlayer, waitingPlayer);\n      return;\n    } else if (attackResult === true) {\n      domHandler.markSuccessfulAttacksOnDOMGameboard(\n        waitingPlayer.gameboard,\n        waitingPlayer.getDomGameboard(),\n      );\n      if (waitingPlayer.gameboard.haveAllShipsBeenSunk() === true) {\n        removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVP\");\n        endGame(playingPlayer.getName());\n        domHandler.renderEndScreen(playingPlayer);\n        setEventListenerOnNewGameButton();\n        return;\n      }\n      if (waitingPlayer.gameboard.hasLastAttackSunkAShip()) {\n        const lastSunkShip = waitingPlayer.gameboard.getLastSunkShip();\n        domHandler.showMessageOnInfoContainer(\n          playingPlayer,\n          \"sunk\",\n          lastSunkShip.getName(),\n        );\n      } else {\n        domHandler.showMessageOnInfoContainer(playingPlayer, \"hit\");\n      }\n      return;\n    }\n    domHandler.showMessageOnInfoContainer(playingPlayer, \"null\");\n  }\n\n  return {\n    handleClickOnGameBoardForPlayerVsPC,\n    handleClickOnGameBoard,\n    transitionFromChooseModeToPlayer1PassDeviceScreen,\n    transitionFromPlayer1SetupToPlayer2PassDeviceScreen,\n    transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen,\n  };\n}\n"],"names":["Ship","length","numberOfHits","name","constructor","this","hit","isSunk","setName","getName","Gameboard","missedAttacks","successfulAttacks","placedShips","sunkShips","board","letters","A","B","C","D","E","F","G","H","I","J","setShip","shipLength","startRow","startColumn","endRow","endColumn","areCoordinatesAvailable","shipPath","getShipPath","ship","push","areCoordinatesWithinBounds","isAnyCoordinateOfPathTaken","smallerColumn","largerColumn","getShipColumnPath","smallerRow","largerRow","indexOfSmallerRow","indexOf","indexOfLargerRow","getShipRowPath","column","i","row","isCoordinateTakenByAShip","wasTheCoordinateShotAlready","flatMap","some","coord","receiveAttack","getShipThatWasHit","attack","placedShipEntry","find","coordinate","haveAllShipsBeenSunk","every","hasLastAttackSunkAShip","lastSuccessfulAttack","getLastSunkShip","setShipsRandomly","getRandomAvailableShipPath","getShipNameFromLength","randomIntForStartRow","randomIntForStartColumn","randomPlacementInt","getRandomInt","variant","min","max","Math","floor","random","coordinatePair","Player","gameboard","domGameboard","mode","attackResults","setDomGameboard","getDomGameboard","getGameboard","setMode","keyword","getMode","automatedAttack","enemyDomGameboard","enemyGameboard","allAttackedCells","map","entry","lastSuccessfulEntry","getCoordinateOfLastSuccessfulAttack","indexOfCurrentRow","currentColumnInt","parseInt","slice","entriesOfLastHitShip","getAllSuccessfulEntriesOfLastHitShip","allEntries","firstEntry","lastEntry","firstEntryAsArray","getCoordinateAsArray","lastEntryAsArray","newCell","randomInt","getCellAdjacentByOne","includes","newCellNode","querySelector","click","adjacentCellClass","adjacentCellNode","doRandomAttack","getLastSuccessfulEntry","lastSuccessfulAttackAsAnArray","lastShipThatWasHit","allEntriesOfLastHitShip","forEach","sortEntries","entries","entriesAsArrays","sort","a","b","rowOfNewAttack","columnOfNewAttack","randomColumnInt","randomRowInt","targetClass","targetCell","handleDom","placeShipsOnGameboard","domboard","allCells","querySelectorAll","className","cell","Array","from","classList","contains","style","backgroundColor","hideShipPlacementFromDOMGameboard","markMissedAttacksOnDOMGameboard","markSuccessfulAttacksOnDOMGameboard","removePassDeviceScreen","document","remove","removeGameViewClassFromMain","createDomGameboard","container","createElement","add","columnDisplay","rowDisplay","rowDisplayNumber","textContent","append","columnDisplayLetter","j","appendChild","appendGameboardOnDOM","playerName","main","showMessageOnInfoContainer","player","shipName","infoContainer","renderSetupScreen","div","nameInput","nameLabel","id","type","htmlFor","intro","shuffleButton","setupNextButton","removeShipsFromDOMGameboard","removeSetupScreen","showMessageInInfoContainerForPlayerVsPC","renderEndScreen","winner","endH2","newGameButton","pageCoverDiv","removeEndScreen","renderChooseModeScreen","h2","playerButton","pcButton","chooseModeNextButton","removeChooseModeScreen","renderPassDeviceScreen","button","h1","renderEndTurnButton","removeEndTurnButton","switchGameboardVisibility","waitingPlayer","playingPlayer","renderInfoContainer","addGameViewClassToMain","game","domHandler","eventHandler","eventListeners","player1","player2","player1DomGameboard","player2DomGameboard","setPlayers","setEventListenersOnChooseModeScreen","endGame","resetGame","controller","setEventListenerOnReadyButton","callback","readyButton","addEventListener","setEventListenersOnSetupScreenForPlayerVsComputer","getElementById","value","startDomGameboard","setEventListenersOnGameboard","handleClickOnGameBoard","handleClickOnGameBoardForPlayerVsPC","removeEventListenersOnGameboard","removeEventListener","setEventListenerOnNewGameButton","deps","getPlayers","setEventListenerOnEndTurnButton","setEventListenersOnSetupScreenForPlayer1","setEventListenersOnSetupScreenForPlayer2","transitionFromPlayer1PassDeviceToPlayer1SetupScreen","transitionFromPlayer2PassDeviceToPlayer2SetupScreen","transitionFromPlayer1PassDeviceScreenToGame","getClassFromDomCell","event","coordinateClass","target","test","getCoordinateAsArrayFromClass","pcPlayer","currentTarget","coordinateAsArray","attackResult","lastSunkShip","setTimeout","transitionFromChooseModeToPlayer1PassDeviceScreen","transitionFromPlayer1SetupToPlayer2PassDeviceScreen","transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen","gameController","endTurnButton","swapEventListenersOfGameboards","p1","p2","setUpDomGameboard"],"sourceRoot":""}