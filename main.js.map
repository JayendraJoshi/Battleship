{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./src/ship.js","webpack://webpack-template/./src/gameboard.js","webpack://webpack-template/./src/player.js","webpack://webpack-template/./src/dom.js","webpack://webpack-template/./src/index.js","webpack://webpack-template/./src/controller.js"],"sourcesContent":["export class Ship {\r\n  length;\r\n  numberOfHits = 0;\r\n  name;\r\n\r\n  constructor(length) {\r\n    this.length = length;\r\n  }\r\n\r\n  hit() {\r\n    this.numberOfHits++;\r\n  }\r\n  isSunk() {\r\n    if (this.numberOfHits === this.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  setName(name) {\r\n    this.name = name;\r\n  }\r\n  getName() {\r\n    return this.name;\r\n  }\r\n}\r\n","import { Ship } from \"./ship\";\r\nexport class Gameboard {\r\n  missedAttacks = [];\r\n  successfulAttacks = [];\r\n  placedShips = [];\r\n  sunkShips = [];\r\n  board;\r\n  letters = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\r\n  constructor() {\r\n    this.board = {\r\n      A: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      B: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      C: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      D: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      E: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      F: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      G: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      H: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      I: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n      J: [[1], [2], [3], [4], [5], [6], [7], [8], [9], [10]],\r\n    };\r\n  }\r\n  setShip(shipLength, [startRow, startColumn], [endRow, endColumn], name) {\r\n    if (\r\n      !this.areCoordinatesAvailable(\r\n        [startRow, startColumn],\r\n        [endRow, endColumn],\r\n      )\r\n    )\r\n      return null;\r\n    let shipPath = this.getShipPath(\r\n      [startRow, startColumn],\r\n      [endRow, endColumn],\r\n    );\r\n    const ship = new Ship(shipLength);\r\n    ship.setName(name);\r\n    this.placedShips.push([ship, shipPath]);\r\n    return true;\r\n  }\r\n  areCoordinatesAvailable([startRow, startColumn], [endRow, endColumn]) {\r\n    if (startRow !== endRow && startColumn !== endColumn) return false;\r\n    let shipPath = this.getShipPath(\r\n      [startRow, startColumn],\r\n      [endRow, endColumn],\r\n    );\r\n    if (!this.areCoordinatesWithinBounds(shipPath)) return false;\r\n    if (this.isAnyCoordinateOfPathTaken(shipPath)) return false;\r\n    return true;\r\n  }\r\n  getShipPath([startRow, startColumn], [endRow, endColumn]) {\r\n    if (startRow === endRow) {\r\n      let smallerColumn;\r\n      let largerColumn;\r\n      if (startColumn < endColumn) {\r\n        smallerColumn = startColumn;\r\n        largerColumn = endColumn;\r\n      } else {\r\n        smallerColumn = endColumn;\r\n        largerColumn = startColumn;\r\n      }\r\n      return this.getShipColumnPath(smallerColumn, largerColumn, startRow);\r\n    } else {\r\n      let smallerRow;\r\n      let largerRow;\r\n\r\n      if (startRow < endRow) {\r\n        smallerRow = startRow;\r\n        largerRow = endRow;\r\n      } else {\r\n        smallerRow = endRow;\r\n        largerRow = startRow;\r\n      }\r\n      let indexOfSmallerRow = this.letters.indexOf(smallerRow);\r\n      let indexOfLargerRow = this.letters.indexOf(largerRow);\r\n      return this.getShipRowPath(\r\n        indexOfSmallerRow,\r\n        indexOfLargerRow,\r\n        startColumn,\r\n      );\r\n    }\r\n  }\r\n  getShipRowPath(indexOfSmallerRow, indexOfLargerRow, column) {\r\n    let shipPath = [];\r\n    for (let i = indexOfSmallerRow; i <= indexOfLargerRow; i++) {\r\n      shipPath.push([this.letters[i], column]);\r\n    }\r\n    return shipPath;\r\n  }\r\n  getShipColumnPath(smallerColumn, largerColumn, row) {\r\n    let shipPath = [];\r\n    for (let i = smallerColumn; i <= largerColumn; i++) {\r\n      shipPath.push([row, i]);\r\n    }\r\n    return shipPath;\r\n  }\r\n  isAnyCoordinateOfPathTaken(shipPath) {\r\n    for (let i = 0; i < shipPath.length; i++) {\r\n      if (\r\n        this.isCoordinateTakenByAShip(shipPath[i]) ||\r\n        this.wasTheCoordinateShotAlready(shipPath[i])\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  isCoordinateTakenByAShip([row, column]) {\r\n    return this.placedShips\r\n      .flatMap((ship) => ship[1])\r\n      .some((coord) => coord[0] === row && coord[1] === column);\r\n  }\r\n  receiveAttack([row, column]) {\r\n    if (this.wasTheCoordinateShotAlready([row, column])) return null;\r\n    else if (this.isCoordinateTakenByAShip([row, column])) {\r\n      let ship = this.getShipThatWasHit([row, column]);\r\n      ship.hit();\r\n      this.successfulAttacks.push([row, column]);\r\n      if (ship.isSunk()) {\r\n        this.sunkShips.push(ship);\r\n      }\r\n      return true;\r\n    } else {\r\n      this.missedAttacks.push([row, column]);\r\n      return false;\r\n    }\r\n  }\r\n  wasTheCoordinateShotAlready([row, column]) {\r\n    return (\r\n      this.missedAttacks.some(\r\n        (attack) => attack[0] === row && attack[1] === column,\r\n      ) ||\r\n      this.successfulAttacks.some(\r\n        (attack) => attack[0] === row && attack[1] === column,\r\n      )\r\n    );\r\n  }\r\n  getShipThatWasHit([row, column]) {\r\n    const placedShipEntry = this.placedShips.find((ship) =>\r\n      ship[1].some(\r\n        (coordinate) => coordinate[0] === row && coordinate[1] === column,\r\n      ),\r\n    );\r\n    return placedShipEntry ? placedShipEntry[0] : null;\r\n  }\r\n  haveAllShipsBeenSunk() {\r\n    const allShipCoordinates = this.placedShips.flatMap((ship) => ship[1]);\r\n\r\n    return allShipCoordinates.every((coordinate) =>\r\n      this.successfulAttacks.some(\r\n        (attack) => attack[0] === coordinate[0] && attack[1] === coordinate[1],\r\n      ),\r\n    );\r\n  }\r\n  hasLastAttackSunkAShip() {\r\n    const lastSuccessfulAttack =\r\n      this.successfulAttacks[this.successfulAttacks.length - 1];\r\n    const shipThatWasHit = this.getShipThatWasHit(lastSuccessfulAttack);\r\n    return shipThatWasHit.isSunk();\r\n  }\r\n  getLastSunkShip() {\r\n    return this.sunkShips[this.sunkShips.length - 1];\r\n  }\r\n  setShipsRandomly() {\r\n    if (this.placedShips.length != 0) this.placedShips = [];\r\n    for (let i = 2; i < 6; i++) {\r\n      let shipPath = this.getRandomAvailableShipPath(i);\r\n      const ship = new Ship(i);\r\n      ship.setName(this.getShipNameFromLength(i));\r\n      this.placedShips.push([ship, shipPath]);\r\n      if (i === 3) {\r\n        let shipPath = this.getRandomAvailableShipPath(i);\r\n        const ship = new Ship(i);\r\n        ship.setName(this.getShipNameFromLength(i, \"S\"));\r\n        this.placedShips.push([ship, shipPath]);\r\n      }\r\n    }\r\n  }\r\n  getRandomAvailableShipPath(length) {\r\n    let shipPath;\r\n    while (true) {\r\n      let startRow;\r\n      let startColumn;\r\n      let randomIntForStartRow;\r\n      let randomIntForStartColumn;\r\n\r\n      //Randomize whether the ship will be placed along x or y axis\r\n      let randomPlacementInt = this.getRandomInt(1, 2);\r\n      if (randomPlacementInt === 1) {\r\n        //Row changes\r\n        randomIntForStartRow = this.getRandomInt(0, 10 - length);\r\n        startRow = randomIntForStartRow;\r\n        startColumn = this.getRandomInt(1, 10);\r\n\r\n        shipPath = this.getShipRowPath(\r\n          startRow,\r\n          startRow + length - 1,\r\n          startColumn,\r\n        );\r\n      } else if (randomPlacementInt === 2) {\r\n        //Column changes\r\n        randomIntForStartColumn = this.getRandomInt(1, 11 - length);\r\n        startColumn = randomIntForStartColumn;\r\n        startRow = this.letters[this.getRandomInt(0, 9)];\r\n\r\n        shipPath = this.getShipColumnPath(\r\n          startColumn,\r\n          startColumn + length - 1,\r\n          startRow,\r\n        );\r\n      }\r\n\r\n      //check whether the shipPath is available\r\n      if (\r\n        this.isAnyCoordinateOfPathTaken(shipPath) ||\r\n        !this.areCoordinatesWithinBounds(shipPath)\r\n      )\r\n        continue;\r\n      break;\r\n    }\r\n    return shipPath;\r\n  }\r\n  getShipNameFromLength(length, variant = \"\") {\r\n    switch (length) {\r\n      case 2:\r\n        return \"Patrol Boat\";\r\n      case 3:\r\n        if (variant == \"S\") return \"Submarine\";\r\n        return \"Destroyer\";\r\n      case 4:\r\n        return \"Battleship\";\r\n      case 5:\r\n        return \"Carrier\";\r\n    }\r\n  }\r\n  getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  areCoordinatesWithinBounds(shipPath) {\r\n    return shipPath.every(\r\n      (coordinatePair) =>\r\n        coordinatePair[0] >= \"A\" &&\r\n        coordinatePair[0] <= \"J\" &&\r\n        coordinatePair[1] >= 1 &&\r\n        coordinatePair[1] <= 10,\r\n    );\r\n  }\r\n}\r\n","import { Gameboard } from \"./gameboard\";\r\nexport class Player {\r\n  gameboard;\r\n  domGameboard;\r\n  name;\r\n  mode;\r\n  attackResults = [];\r\n  constructor(name) {\r\n    this.gameboard = new Gameboard();\r\n    this.name = name;\r\n  }\r\n  setDomGameboard(gameboard) {\r\n    this.domGameboard = gameboard;\r\n  }\r\n  getDomGameboard() {\r\n    return this.domGameboard;\r\n  }\r\n  getGameboard() {\r\n    return this.gameboard;\r\n  }\r\n  getName() {\r\n    return this.name;\r\n  }\r\n  setName(name) {\r\n    this.name = name;\r\n  }\r\n  setMode(keyword) {\r\n    this.mode = keyword;\r\n  }\r\n  getMode() {\r\n    return this.mode;\r\n  }\r\n  automatedAttack(enemyDomGameboard, enemyGameboard) {\r\n    while (true) {\r\n      let allAttackedCells = this.attackResults.map((entry) => entry[0]);\r\n      const lastSuccessfulEntry = this.getCoordinateOfLastSuccessfulAttack();\r\n      if (lastSuccessfulEntry) {\r\n        let indexOfCurrentRow = this.gameboard.letters.indexOf(\r\n          lastSuccessfulEntry[0][0],\r\n        );\r\n        let currentColumnInt = parseInt(lastSuccessfulEntry.slice(1), 10);\r\n\r\n        if (\r\n          enemyGameboard.getShipThatWasHit([\r\n            enemyGameboard.letters[indexOfCurrentRow],\r\n            currentColumnInt,\r\n          ]) != enemyGameboard.getLastSunkShip()\r\n        ) {\r\n          const entriesOfLastHitShip =\r\n            this.getAllSuccessfulEntriesOfLastHitShip(enemyGameboard);\r\n\r\n          if (entriesOfLastHitShip.length >= 2) {\r\n            const allEntries = entriesOfLastHitShip;\r\n            const firstEntry = allEntries[0];\r\n            const lastEntry = allEntries[allEntries.length - 1];\r\n            const firstEntryAsArray = this.getCoordinateAsArray(firstEntry);\r\n            const lastEntryAsArray = this.getCoordinateAsArray(lastEntry);\r\n\r\n            while (true) {\r\n              let randomInt = this.gameboard.getRandomInt(1, 2);\r\n              let newCell;\r\n\r\n              if (firstEntry[0] === lastEntry[0]) {\r\n                //rows are same so need to move column\r\n                switch (randomInt) {\r\n                  case 1:\r\n                    newCell = this.getCellAdjacentByOne(\r\n                      3,\r\n                      this.gameboard.letters.indexOf(firstEntryAsArray[0]),\r\n                      firstEntryAsArray[1],\r\n                    );\r\n                    break;\r\n                  case 2:\r\n                    newCell = this.getCellAdjacentByOne(\r\n                      4,\r\n                      this.gameboard.letters.indexOf(lastEntryAsArray[0]),\r\n                      lastEntryAsArray[1],\r\n                    );\r\n                    break;\r\n                }\r\n              } else {\r\n                switch (randomInt) {\r\n                  case 1:\r\n                    newCell = this.getCellAdjacentByOne(\r\n                      1,\r\n                      this.gameboard.letters.indexOf(firstEntryAsArray[0]),\r\n                      firstEntryAsArray[1],\r\n                    );\r\n                    break;\r\n                  case 2:\r\n                    newCell = this.getCellAdjacentByOne(\r\n                      2,\r\n                      this.gameboard.letters.indexOf(lastEntryAsArray[0]),\r\n                      lastEntryAsArray[1],\r\n                    );\r\n                    break;\r\n                }\r\n              }\r\n              if (allAttackedCells.includes(newCell)) continue;\r\n              let newCellNode = enemyDomGameboard.querySelector(`.${newCell}`);\r\n              if (!newCellNode) continue;\r\n              newCellNode.click();\r\n              break;\r\n            }\r\n            return;\r\n          }\r\n          while (true) {\r\n            let randomInt = this.gameboard.getRandomInt(1, 4);\r\n            let adjacentCellClass = this.getCellAdjacentByOne(\r\n              randomInt,\r\n              indexOfCurrentRow,\r\n              currentColumnInt,\r\n            );\r\n\r\n            if (allAttackedCells.includes(adjacentCellClass)) continue;\r\n            let adjacentCellNode = enemyDomGameboard.querySelector(\r\n              `.${adjacentCellClass}`,\r\n            );\r\n            if (!adjacentCellNode) continue;\r\n            adjacentCellNode.click();\r\n            break;\r\n          }\r\n          return;\r\n        }\r\n      }\r\n      const hasAttacked = this.doRandomAttack(\r\n        enemyDomGameboard,\r\n        allAttackedCells,\r\n      );\r\n      if (hasAttacked) break;\r\n      continue;\r\n    }\r\n  }\r\n  getLastSuccessfulEntry() {\r\n    if (this.attackResults.length === 0) return false;\r\n    for (let i = this.attackResults.length - 1; i >= 0; i--) {\r\n      if (this.attackResults[i][1] === true) {\r\n        return this.attackResults[i];\r\n      }\r\n    }\r\n  }\r\n  getCoordinateOfLastSuccessfulAttack() {\r\n    let lastSuccessfulEntry = this.getLastSuccessfulEntry();\r\n    if (!lastSuccessfulEntry) return false;\r\n    return lastSuccessfulEntry[0];\r\n  }\r\n  getCoordinateAsArray(coordinate) {\r\n    return [coordinate[0], parseInt(coordinate.slice(1), 10)];\r\n  }\r\n  getAllSuccessfulEntriesOfLastHitShip(enemyGameboard) {\r\n    const lastSuccessfulAttack = this.getCoordinateOfLastSuccessfulAttack();\r\n    if (!lastSuccessfulAttack) return [];\r\n    const lastSuccessfulAttackAsAnArray =\r\n      this.getCoordinateAsArray(lastSuccessfulAttack);\r\n    const lastShipThatWasHit = enemyGameboard.getShipThatWasHit(\r\n      lastSuccessfulAttackAsAnArray,\r\n    );\r\n    let allEntriesOfLastHitShip = [];\r\n\r\n    this.attackResults.forEach((coordinate) => {\r\n      if (\r\n        enemyGameboard.getShipThatWasHit(\r\n          this.getCoordinateAsArray(coordinate[0]),\r\n        ) === lastShipThatWasHit\r\n      ) {\r\n        allEntriesOfLastHitShip.push(coordinate[0]);\r\n      }\r\n    });\r\n\r\n    return this.sortEntries(allEntriesOfLastHitShip);\r\n  }\r\n  sortEntries(entries) {\r\n    if (entries.length <= 1) return entries;\r\n    let entriesAsArrays = [];\r\n    entries.forEach((entry) => {\r\n      entriesAsArrays.push(this.getCoordinateAsArray(entry));\r\n    });\r\n    if (entriesAsArrays[0][0] === entriesAsArrays[1][0]) {\r\n      //rows are the same, so sort by column\r\n      entriesAsArrays.sort((a, b) => a[1] - b[1]);\r\n    } else {\r\n      entriesAsArrays.sort();\r\n    }\r\n    return entriesAsArrays.map((entry) => {\r\n      return entry[0] + entry[1];\r\n    });\r\n  }\r\n  getCellAdjacentByOne(randomInt, indexOfCurrentRow, currentColumnInt) {\r\n    let rowOfNewAttack;\r\n    let columnOfNewAttack;\r\n    switch (randomInt) {\r\n      case 1:\r\n        if (indexOfCurrentRow !== 0) {\r\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow - 1];\r\n        } else {\r\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow + 1];\r\n        }\r\n        columnOfNewAttack = currentColumnInt;\r\n        break;\r\n      case 2:\r\n        if (indexOfCurrentRow !== 9) {\r\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow + 1];\r\n        } else {\r\n          rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow - 1];\r\n        }\r\n        columnOfNewAttack = currentColumnInt;\r\n        break;\r\n      case 3:\r\n        if (currentColumnInt !== 1) {\r\n          columnOfNewAttack = currentColumnInt - 1;\r\n        } else {\r\n          columnOfNewAttack = currentColumnInt + 1;\r\n        }\r\n        rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow];\r\n        break;\r\n      case 4:\r\n        if (currentColumnInt !== 10) {\r\n          columnOfNewAttack = currentColumnInt + 1;\r\n        } else {\r\n          columnOfNewAttack = currentColumnInt - 1;\r\n        }\r\n        rowOfNewAttack = this.gameboard.letters[indexOfCurrentRow];\r\n    }\r\n    return rowOfNewAttack + columnOfNewAttack;\r\n  }\r\n  doRandomAttack(enemyDomGameboard, allAttackedCells) {\r\n    const randomColumnInt = this.gameboard.getRandomInt(1, 10);\r\n    const randomRowInt = this.gameboard.getRandomInt(0, 9);\r\n    const randomLetter = this.gameboard.letters[randomRowInt];\r\n    let targetClass = randomLetter + randomColumnInt;\r\n    let targetCell = enemyDomGameboard.querySelector(`.${targetClass}`);\r\n    if (allAttackedCells.includes(targetClass)) return false;\r\n    if (!targetCell) return false;\r\n    targetCell.click();\r\n    return true;\r\n  }\r\n}\r\n","export const handleDom = function () {\r\n  function createDomGameboard() {\r\n    const container = document.createElement(\"div\");\r\n    const letters = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\"];\r\n\r\n    let board = document.createElement(\"div\");\r\n    board.classList.add(\"board\");\r\n\r\n    const columnDisplay = document.createElement(\"div\");\r\n    columnDisplay.classList.add(\"column-display\");\r\n\r\n    let rowDisplay = document.createElement(\"div\");\r\n    rowDisplay.classList.add(\"row-display\");\r\n\r\n    for (let i = 1; i <= 10; i++) {\r\n      let rowDisplayNumber = document.createElement(\"div\");\r\n      rowDisplayNumber.textContent = i;\r\n      rowDisplay.append(rowDisplayNumber);\r\n    }\r\n    for (let i = 0; i < 10; i++) {\r\n      let columnDisplayLetter = document.createElement(\"div\");\r\n      columnDisplayLetter.textContent = letters[i];\r\n      columnDisplay.append(columnDisplayLetter);\r\n      let column = document.createElement(\"div\");\r\n      column.classList.add(\"column\");\r\n      column.classList.add(letters[i]);\r\n      for (let j = 1; j <= 10; j++) {\r\n        let cell = document.createElement(\"div\");\r\n        column.appendChild(cell);\r\n        cell.classList.add(\"cell\");\r\n        cell.classList.add(letters[i] + j);\r\n        cell.style.backgroundColor = \"white\";\r\n      }\r\n      board.appendChild(column);\r\n    }\r\n    container.appendChild(columnDisplay);\r\n    container.appendChild(rowDisplay);\r\n    container.append(board);\r\n    return container;\r\n  }\r\n  function placeShipsOnGameboard(gameboard, domboard) {\r\n    const allCells = domboard.querySelectorAll(\".cell\");\r\n    const placedShips = gameboard.placedShips;\r\n    let coordinatesOfPlacedShips = placedShips.flatMap(\r\n      (shipPath) => shipPath[1],\r\n    );\r\n    const classNamesOfShipCoordinates = coordinatesOfPlacedShips.map(\r\n      (coordinate) => coordinate[0] + coordinate[1],\r\n    );\r\n\r\n    classNamesOfShipCoordinates.forEach((className) => {\r\n      const cell = Array.from(allCells).find((cell) =>\r\n        cell.classList.contains(className),\r\n      );\r\n      if (\r\n        cell.style.backgroundColor !== \"rgb(29, 137, 187, 1)\" &&\r\n        cell.style.backgroundColor !== \"rgb(200, 40, 35)\"\r\n      ) {\r\n        cell.style.backgroundColor = \"rgb(128, 128, 128)\";\r\n      }\r\n    });\r\n  }\r\n  function removeShipsFromDOMGameboard(domGameboard) {\r\n    const allCells = domGameboard.querySelectorAll(\".cell\");\r\n    allCells.forEach((cell) => {\r\n      cell.style.backgroundColor = \"white\";\r\n    });\r\n  }\r\n  function hideShipPlacementFromDOMGameboard(domGameboard) {\r\n    const allCells = domGameboard.querySelectorAll(\".cell\");\r\n    allCells.forEach((cell) => {\r\n      if (cell.style.backgroundColor === \"rgb(128, 128, 128)\")\r\n        cell.style.backgroundColor = \"white\";\r\n    });\r\n  }\r\n  function appendGameboardOnDOM(gameboard, playerName) {\r\n    const main = document.querySelector(\"main\");\r\n    gameboard.classList.add(\"board-container\");\r\n    gameboard.classList.add(playerName);\r\n    main.appendChild(gameboard);\r\n  }\r\n  function renderInfoContainer() {\r\n    const infoContainer = document.createElement(\"div\");\r\n    infoContainer.classList.add(\"info-container\");\r\n    document.querySelector(\"main\").appendChild(infoContainer);\r\n  }\r\n  function markMissedAttacksOnDOMGameboard(gameboard, domboard) {\r\n    const allCells = domboard.querySelectorAll(\".cell\");\r\n    let coordinatesOfMissedAttacks = gameboard.missedAttacks;\r\n    const classNamesOfShipCoordinates = coordinatesOfMissedAttacks.map(\r\n      (coordinate) => coordinate[0] + coordinate[1],\r\n    );\r\n\r\n    classNamesOfShipCoordinates.forEach((className) => {\r\n      const cell = Array.from(allCells).find((cell) =>\r\n        cell.classList.contains(className),\r\n      );\r\n      cell.style.backgroundColor = \"rgb(29, 137, 187, 1)\";\r\n    });\r\n  }\r\n  function markSuccessfulAttacksOnDOMGameboard(gameboard, domboard) {\r\n    const allCells = domboard.querySelectorAll(\".cell\");\r\n    let coordinatesOfMissedAttacks = gameboard.successfulAttacks;\r\n    const classNamesOfShipCoordinates = coordinatesOfMissedAttacks.map(\r\n      (coordinate) => coordinate[0] + coordinate[1],\r\n    );\r\n\r\n    classNamesOfShipCoordinates.forEach((className) => {\r\n      const cell = Array.from(allCells).find((cell) =>\r\n        cell.classList.contains(className),\r\n      );\r\n      cell.style.backgroundColor = \"rgb(200, 40, 35)\";\r\n    });\r\n  }\r\n  function showMessageOnInfoContainer(player, keyword, shipName = \"\") {\r\n    const infoContainer = document.querySelector(\".info-container\");\r\n    switch (keyword) {\r\n      case \"hit\":\r\n        infoContainer.textContent = \"You hit an enemy ship!\";\r\n        break;\r\n      case \"sunk\":\r\n        infoContainer.textContent =\r\n          \"You have sunk the enemies \" + shipName + \"!\";\r\n        break;\r\n      case \"missed\":\r\n        infoContainer.textContent = \"You missed!\";\r\n        break;\r\n      case \"null\":\r\n        infoContainer.textContent = \"You can't attack the same cell twice!\";\r\n        break;\r\n      case \"start\":\r\n        infoContainer.textContent = \"You start, \" + player.getName() + \"!\";\r\n        break;\r\n    }\r\n  }\r\n  function showMessageInInfoContainerForPlayerVsPC(\r\n    player,\r\n    keyword,\r\n    shipName = \"\",\r\n  ) {\r\n    const infoContainer = document.querySelector(\".info-container\");\r\n    if (player.getMode() === \"PC\") {\r\n      switch (keyword) {\r\n        case \"hit\":\r\n          infoContainer.textContent = \"The enemy has hit one of your ships!\";\r\n          break;\r\n        case \"sunk\":\r\n          infoContainer.textContent =\r\n            \"The enemy has sunk your \" + shipName + \"!\";\r\n          break;\r\n        case \"missed\":\r\n          infoContainer.textContent = \"The enemy missed!\";\r\n          break;\r\n      }\r\n    } else if (player.getMode() === \"Human\") {\r\n      switch (keyword) {\r\n        case \"hit\":\r\n          infoContainer.textContent = \"You hit an enemy ship!\";\r\n          break;\r\n        case \"sunk\":\r\n          infoContainer.textContent =\r\n            \"You have sunk the enemies \" + shipName + \"!\";\r\n          break;\r\n        case \"missed\":\r\n          infoContainer.textContent = \"You missed!\";\r\n          break;\r\n        case \"null\":\r\n          infoContainer.textContent = \"You can't attack the same cell twice!\";\r\n          break;\r\n        case \"start\":\r\n          infoContainer.textContent = \"You start, \" + player.getName() + \"!\";\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  function renderChooseModeScreen() {\r\n    const div = document.createElement(\"div\");\r\n    div.classList.add(\"choose-mode-screen\");\r\n    const h2 = document.createElement(\"h2\");\r\n    h2.textContent = \"Choose your opponent\";\r\n    const playerButton = document.createElement(\"button\");\r\n    playerButton.classList.add(\"player-button\");\r\n    playerButton.textContent = \"Local Player\";\r\n    const pcButton = document.createElement(\"button\");\r\n    pcButton.classList.add(\"pc-button\", \"active-mode\");\r\n    pcButton.textContent = \"Computer\";\r\n    const chooseModeNextButton = document.createElement(\"button\");\r\n    chooseModeNextButton.textContent = \"Next\";\r\n    chooseModeNextButton.classList.add(\"next-button\", \"choose-mode\");\r\n    div.appendChild(h2);\r\n    div.appendChild(pcButton);\r\n    div.appendChild(playerButton);\r\n    div.appendChild(chooseModeNextButton);\r\n    document.querySelector(\"main\").appendChild(div);\r\n  }\r\n  function removeChooseModeScreen() {\r\n    document.querySelector(\".choose-mode-screen\").remove();\r\n  }\r\n  function renderSetupScreen(domGameboard) {\r\n    const div = document.createElement(\"div\");\r\n    div.classList.add(\"setup-screen\");\r\n    const nameInput = document.createElement(\"input\");\r\n    const nameLabel = document.createElement(\"label\");\r\n    nameInput.id = \"name\";\r\n    nameInput.type = \"text\";\r\n    nameLabel.htmlFor = \"name\";\r\n    nameLabel.textContent = \"Enter Your Name:\";\r\n    const intro = document.createElement(\"h2\");\r\n    intro.textContent = \"Choose Your Ship Placement:\";\r\n    const shuffleButton = document.createElement(\"button\");\r\n    shuffleButton.textContent = \"Shuffle\";\r\n    shuffleButton.classList.add(\"shuffle-button\");\r\n    const setupNextButton = document.createElement(\"button\");\r\n    setupNextButton.textContent = \"Next\";\r\n    setupNextButton.classList.add(\"next-button\", \"setup\");\r\n    domGameboard.classList.add(\"board-container\");\r\n    const main = document.querySelector(\"main\");\r\n    nameLabel.appendChild(nameInput);\r\n    main.appendChild(div);\r\n    div.appendChild(nameLabel);\r\n    div.appendChild(intro);\r\n    div.appendChild(shuffleButton);\r\n    div.appendChild(domGameboard);\r\n    div.appendChild(setupNextButton);\r\n  }\r\n  function removeSetupScreen() {\r\n    document.querySelector(\".setup-screen\").remove();\r\n  }\r\n  function renderEndScreen(winner) {\r\n    const div = document.createElement(\"div\");\r\n    div.classList.add(\"end-screen\");\r\n    const endH2 = document.createElement(\"h2\");\r\n    endH2.textContent = `${winner.getName()} won!`;\r\n\r\n    const newGameButton = document.createElement(\"button\");\r\n    newGameButton.textContent = \"new game\";\r\n    newGameButton.classList.add(\"new-game\");\r\n\r\n    const pageCoverDiv = document.createElement(\"div\");\r\n    pageCoverDiv.classList.add(\"page-cover\");\r\n    const main = document.querySelector(\"main\");\r\n    div.appendChild(endH2);\r\n    div.appendChild(newGameButton);\r\n    main.appendChild(div);\r\n    document.querySelector(\"#root\").appendChild(pageCoverDiv);\r\n    if (document.querySelector(\".info-container\"))\r\n      document.querySelector(\".info-container\").remove();\r\n  }\r\n  function removeEndScreen() {\r\n    document.querySelector(\".end-screen\").remove();\r\n    document.querySelector(\".page-cover\").remove();\r\n    if (document.querySelector(\".game-layout\")) removeGameViewClassFromMain();\r\n  }\r\n  function renderPassDeviceScreen(player) {\r\n    const div = document.createElement(\"div\");\r\n    div.classList.add(\"pass-device-screen\");\r\n    const button = document.createElement(\"button\");\r\n    button.textContent = \"Ready\";\r\n    button.classList.add(\"ready-button\");\r\n    const h1 = document.createElement(\"h1\");\r\n    h1.textContent = `Pass device to ${player.getName()}`;\r\n    div.appendChild(h1);\r\n    div.appendChild(button);\r\n    document.querySelector(\"main\").appendChild(div);\r\n\r\n    const pageCoverDiv = document.createElement(\"div\");\r\n    pageCoverDiv.classList.add(\"page-cover\");\r\n\r\n    document.querySelector(\"#root\").appendChild(pageCoverDiv);\r\n  }\r\n  function removePassDeviceScreen() {\r\n    document.querySelector(\".pass-device-screen\").remove();\r\n  }\r\n  function renderEndTurnButton() {\r\n    const button = document.createElement(\"button\");\r\n    button.classList.add(\"end-turn-button\");\r\n    button.textContent = \"End Turn\";\r\n    document.querySelector(\"main\").appendChild(button);\r\n  }\r\n  function removeEndTurnButton() {\r\n    document.querySelector(\".end-turn-button\").remove();\r\n  }\r\n\r\n  function switchGameboardVisibility(waitingPlayer, playingPlayer) {\r\n    document.querySelector(\".page-cover\").remove();\r\n    removePassDeviceScreen();\r\n    hideShipPlacementFromDOMGameboard(playingPlayer.getDomGameboard());\r\n    placeShipsOnGameboard(\r\n      waitingPlayer.gameboard,\r\n      waitingPlayer.getDomGameboard(),\r\n    );\r\n\r\n    markMissedAttacksOnDOMGameboard(\r\n      playingPlayer.gameboard,\r\n      playingPlayer.getDomGameboard(),\r\n    );\r\n    markSuccessfulAttacksOnDOMGameboard(\r\n      playingPlayer.gameboard,\r\n      playingPlayer.getDomGameboard(),\r\n    );\r\n\r\n    markMissedAttacksOnDOMGameboard(\r\n      waitingPlayer.gameboard,\r\n      waitingPlayer.getDomGameboard(),\r\n    );\r\n    markSuccessfulAttacksOnDOMGameboard(\r\n      waitingPlayer.gameboard,\r\n      waitingPlayer.getDomGameboard(),\r\n    );\r\n  }\r\n  function addGameViewClassToMain() {\r\n    document.querySelector(\"main\").classList.add(\"game-layout\");\r\n  }\r\n  function removeGameViewClassFromMain() {\r\n    document.querySelector(\"main\").classList.remove(\"game-layout\");\r\n  }\r\n\r\n  return {\r\n    createDomGameboard,\r\n    placeShipsOnGameboard,\r\n    appendGameboardOnDOM,\r\n    markMissedAttacksOnDOMGameboard,\r\n    markSuccessfulAttacksOnDOMGameboard,\r\n    showMessageOnInfoContainer,\r\n    renderSetupScreen,\r\n    removeShipsFromDOMGameboard,\r\n    removeSetupScreen,\r\n    showMessageInInfoContainerForPlayerVsPC,\r\n    renderEndScreen,\r\n    removeEndScreen,\r\n    renderChooseModeScreen,\r\n    removeChooseModeScreen,\r\n    renderPassDeviceScreen,\r\n    removePassDeviceScreen,\r\n    hideShipPlacementFromDOMGameboard,\r\n    renderEndTurnButton,\r\n    removeEndTurnButton,\r\n    switchGameboardVisibility,\r\n    renderInfoContainer,\r\n    addGameViewClassToMain,\r\n    removeGameViewClassFromMain,\r\n  };\r\n};\r\n","import \"./styles.css\";\r\nimport { Player } from \"./player\";\r\nimport { handleDom } from \"./dom\";\r\nimport { gameController } from \"./controller\";\r\n\r\nexport const game = function () {\r\n  const domHandler = handleDom();\r\n  const eventHandler = eventListeners();\r\n\r\n  //Create players and their DOMBoards (board instances are created inside the constructor)\r\n  const player1 = new Player(\"Player1\");\r\n  const player2 = new Player(\"Player2\");\r\n  const player1DomGameboard = domHandler.createDomGameboard();\r\n  const player2DomGameboard = domHandler.createDomGameboard();\r\n  player1.setDomGameboard(player1DomGameboard);\r\n  player2.setDomGameboard(player2DomGameboard);\r\n  player1.setMode(\"Human\");\r\n\r\n  //Set players for EventHandler\r\n  eventHandler.setPlayers(player1, player2);\r\n\r\n  //Render Choose-mode-screen ( Entry point for game logic )\r\n  domHandler.renderChooseModeScreen();\r\n  eventHandler.setEventListenersOnChooseModeScreen();\r\n};\r\n\r\nfunction endGame(playerName) {\r\n  const infoContainer = document.querySelector(\".info-container\");\r\n  infoContainer.textContent = playerName + \" has won!\";\r\n}\r\n\r\nfunction resetGame() {\r\n  document\r\n    .querySelectorAll(\".board-container\")\r\n    .forEach((board) => board.remove());\r\n  const infoContainer = document.querySelector(\".info-container\");\r\n  if (infoContainer) infoContainer.textContent = \"\";\r\n  const domHandler = handleDom();\r\n  domHandler.removeEndScreen();\r\n  game();\r\n}\r\n\r\nexport const eventListeners = function () {\r\n  const domHandler = handleDom();\r\n  let player1;\r\n  let player2;\r\n  let controller;\r\n\r\n  function setPlayers(p1, p2) {\r\n    player1 = p1;\r\n    player2 = p2;\r\n  }\r\n\r\n  function setEventListenerOnReadyButton(callback) {\r\n    const readyButton = document.querySelector(\".ready-button\");\r\n    if (readyButton) {\r\n      readyButton.addEventListener(\"click\", callback);\r\n    }\r\n  }\r\n\r\n  function setEventListenersOnSetupScreenForPlayer1() {\r\n    const nameInput = document.getElementById(\"name\");\r\n    if (nameInput) nameInput.value = \"Player1\";\r\n    const shuffleButton = document.querySelector(\".shuffle-button\");\r\n    document.querySelector(\".setup-screen\").classList.add(\"PVP-player1\");\r\n    if (shuffleButton) {\r\n      const startDomGameboard = document.querySelector(\r\n        \".setup-screen .board-container\",\r\n      );\r\n      shuffleButton.addEventListener(\"click\", function () {\r\n        player1.gameboard.setShipsRandomly();\r\n        domHandler.removeShipsFromDOMGameboard(startDomGameboard);\r\n        domHandler.placeShipsOnGameboard(player1.gameboard, startDomGameboard);\r\n      });\r\n    }\r\n    const setupNextButton = document.querySelector(\".next-button.setup\");\r\n    if (setupNextButton) {\r\n      setupNextButton.addEventListener(\"click\", function () {\r\n        const nameInput = document.getElementById(\"name\");\r\n        const name = nameInput?.value ?? \"Player1\";\r\n        if (name) player1.setName(name);\r\n\r\n        domHandler.placeShipsOnGameboard(\r\n          player1.gameboard,\r\n          player1.getDomGameboard(),\r\n        );\r\n        controller.transitionFromPlayer1SetupToPlayer2PassDeviceScreen();\r\n      });\r\n    }\r\n  }\r\n\r\n  function setEventListenersOnSetupScreenForPlayer2() {\r\n    const nameInput = document.getElementById(\"name\");\r\n    if (nameInput) nameInput.value = \"Player2\";\r\n\r\n    const shuffleButton = document.querySelector(\".shuffle-button\");\r\n    document.querySelector(\".setup-screen\").classList.add(\"PVP-player2\");\r\n    if (shuffleButton) {\r\n      const startDomGameboard = document.querySelector(\r\n        \".setup-screen .board-container\",\r\n      );\r\n      shuffleButton.addEventListener(\"click\", function () {\r\n        player2.gameboard.setShipsRandomly();\r\n        domHandler.removeShipsFromDOMGameboard(startDomGameboard);\r\n        domHandler.placeShipsOnGameboard(player2.gameboard, startDomGameboard);\r\n      });\r\n    }\r\n    const setupNextButton = document.querySelector(\".next-button.setup\");\r\n    if (setupNextButton) {\r\n      setupNextButton.addEventListener(\"click\", function () {\r\n        const nameInput = document.getElementById(\"name\");\r\n        const name = nameInput?.value ?? \"Player2\";\r\n        if (name) player2.setName(name);\r\n\r\n        domHandler.placeShipsOnGameboard(\r\n          player2.gameboard,\r\n          player2.getDomGameboard(),\r\n        );\r\n        controller.transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen();\r\n      });\r\n    }\r\n  }\r\n\r\n  function setEventListenersOnSetupScreenForPlayerVsComputer() {\r\n    const nameInput = document.getElementById(\"name\");\r\n    if (nameInput) nameInput.value = \"Player1\";\r\n    const shuffleButton = document.querySelector(\".shuffle-button\");\r\n    if (shuffleButton) {\r\n      const startDomGameboard = document.querySelector(\r\n        \".setup-screen .board-container\",\r\n      );\r\n      document.querySelector(\".setup-screen\").classList.add(\"pvc\");\r\n      shuffleButton.addEventListener(\"click\", function () {\r\n        player1.gameboard.setShipsRandomly();\r\n        domHandler.removeShipsFromDOMGameboard(startDomGameboard);\r\n        domHandler.placeShipsOnGameboard(player1.gameboard, startDomGameboard);\r\n      });\r\n    }\r\n    const setupNextButton = document.querySelector(\".next-button.setup\");\r\n    if (setupNextButton) {\r\n      setupNextButton.addEventListener(\"click\", function () {\r\n        const nameInput = document.getElementById(\"name\");\r\n        const name = nameInput?.value ?? \"\";\r\n        if (name) player1.setName(name);\r\n\r\n        domHandler.removeSetupScreen();\r\n\r\n        player2.gameboard.setShipsRandomly();\r\n\r\n        domHandler.placeShipsOnGameboard(\r\n          player1.gameboard,\r\n          player1.getDomGameboard(),\r\n        );\r\n\r\n        domHandler.appendGameboardOnDOM(player1.getDomGameboard(), \"player1\");\r\n        domHandler.appendGameboardOnDOM(player2.getDomGameboard(), \"player2\");\r\n\r\n        setEventListenersOnGameboard(player2.getDomGameboard(), \"PVC\");\r\n        domHandler.renderInfoContainer();\r\n        domHandler.showMessageOnInfoContainer(player1, \"start\");\r\n      });\r\n    }\r\n  }\r\n\r\n  function setEventListenerOnEndTurnButton(playingPlayer, waitingPlayer) {\r\n    const endTurnButton = document.querySelector(\".end-turn-button\");\r\n    if (endTurnButton) {\r\n      endTurnButton.addEventListener(\"click\", function () {\r\n        domHandler.renderPassDeviceScreen(waitingPlayer);\r\n        domHandler.hideShipPlacementFromDOMGameboard(\r\n          playingPlayer.getDomGameboard(),\r\n        );\r\n        setEventListenerOnReadyButton(() => {\r\n          domHandler.switchGameboardVisibility(waitingPlayer, playingPlayer);\r\n          swapEventListenersOfGameboards(playingPlayer, waitingPlayer);\r\n          domHandler.addGameViewClassToMain();\r\n        });\r\n        domHandler.removeEndTurnButton();\r\n      });\r\n    }\r\n  }\r\n  function swapEventListenersOfGameboards(playingPlayer) {\r\n    setEventListenersOnGameboard(playingPlayer.getDomGameboard(), \"PVP\");\r\n  }\r\n  function setEventListenersOnChooseModeScreen() {\r\n    const pcButton = document.querySelector(\".pc-button\");\r\n    const playerButton = document.querySelector(\".player-button\");\r\n    const chooseModeNextButton = document.querySelector(\r\n      \".next-button.choose-mode\",\r\n    );\r\n\r\n    pcButton.addEventListener(\"click\", function () {\r\n      playerButton.classList.remove(\"active-mode\");\r\n      pcButton.classList.add(\"active-mode\");\r\n    });\r\n    playerButton.addEventListener(\"click\", function () {\r\n      pcButton.classList.remove(\"active-mode\");\r\n      playerButton.classList.add(\"active-mode\");\r\n    });\r\n    chooseModeNextButton.addEventListener(\"click\", function () {\r\n      if (playerButton.classList.contains(\"active-mode\")) {\r\n        controller.transitionFromChooseModeToPlayer1PassDeviceScreen();\r\n      } else if (pcButton.classList.contains(\"active-mode\")) {\r\n        player2.setMode(\"PC\");\r\n        player2.setName(\"PC\");\r\n        domHandler.removeChooseModeScreen();\r\n        player1.gameboard.setShipsRandomly();\r\n        const setUpDomGameboard = domHandler.createDomGameboard();\r\n        domHandler.placeShipsOnGameboard(player1.gameboard, setUpDomGameboard);\r\n        domHandler.renderSetupScreen(setUpDomGameboard);\r\n        setEventListenersOnSetupScreenForPlayerVsComputer();\r\n      }\r\n    });\r\n  }\r\n\r\n  function setEventListenersOnGameboard(gameboard, mode) {\r\n    if (mode === \"PVP\") {\r\n      gameboard.addEventListener(\"click\", controller.handleClickOnGameBoard);\r\n    } else if (mode === \"PVC\") {\r\n      domHandler.addGameViewClassToMain();\r\n      gameboard.addEventListener(\r\n        \"click\",\r\n        controller.handleClickOnGameBoardForPlayerVsPC,\r\n      );\r\n    }\r\n  }\r\n\r\n  function removeEventListenersOnGameboard(gameboard, mode) {\r\n    if (mode === \"PVP\") {\r\n      gameboard.removeEventListener(\"click\", controller.handleClickOnGameBoard);\r\n    } else if (mode === \"PVC\") {\r\n      gameboard.removeEventListener(\r\n        \"click\",\r\n        controller.handleClickOnGameBoardForPlayerVsPC,\r\n      );\r\n    }\r\n  }\r\n\r\n  function setEventListenerOnNewGameButton() {\r\n    const newGameButton = document.querySelector(\".new-game\");\r\n    if (newGameButton) {\r\n      newGameButton.addEventListener(\"click\", resetGame);\r\n    }\r\n  }\r\n\r\n  controller = gameController({\r\n    domHandler,\r\n    getPlayers: () => ({ player1, player2 }),\r\n    setEventListenersOnGameboard,\r\n    removeEventListenersOnGameboard,\r\n    endGame,\r\n    setEventListenerOnNewGameButton,\r\n    setEventListenerOnEndTurnButton,\r\n    setEventListenerOnReadyButton,\r\n    setEventListenersOnSetupScreenForPlayer1,\r\n    setEventListenersOnSetupScreenForPlayer2,\r\n  });\r\n\r\n  return {\r\n    setEventListenersOnGameboard,\r\n    setPlayers,\r\n    removeEventListenersOnGameboard,\r\n    setEventListenerOnNewGameButton,\r\n    setEventListenersOnChooseModeScreen,\r\n    setEventListenersOnSetupScreenForPlayerVsComputer,\r\n  };\r\n};\r\n\r\nif (typeof process === \"undefined\" || process.env.NODE_ENV !== \"test\") {\r\n  game();\r\n}\r\n","export function gameController(deps) {\r\n  const {\r\n    domHandler,\r\n    getPlayers,\r\n    setEventListenersOnGameboard,\r\n    removeEventListenersOnGameboard,\r\n    endGame,\r\n    setEventListenerOnNewGameButton,\r\n    setEventListenerOnEndTurnButton,\r\n    setEventListenerOnReadyButton,\r\n    setEventListenersOnSetupScreenForPlayer1,\r\n    setEventListenersOnSetupScreenForPlayer2,\r\n  } = deps;\r\n\r\n  function transitionFromChooseModeToPlayer1PassDeviceScreen() {\r\n    const { player1 } = getPlayers();\r\n    domHandler.removeChooseModeScreen();\r\n    domHandler.renderPassDeviceScreen(player1);\r\n    setEventListenerOnReadyButton(\r\n      transitionFromPlayer1PassDeviceToPlayer1SetupScreen,\r\n    );\r\n  }\r\n\r\n  function transitionFromPlayer1PassDeviceToPlayer1SetupScreen() {\r\n    const { player1 } = getPlayers();\r\n    domHandler.removePassDeviceScreen();\r\n    document.querySelector(\".page-cover\").remove();\r\n    player1.gameboard.setShipsRandomly();\r\n    const startDomGameboard = domHandler.createDomGameboard();\r\n    domHandler.placeShipsOnGameboard(player1.gameboard, startDomGameboard);\r\n    domHandler.renderSetupScreen(startDomGameboard);\r\n    setEventListenersOnSetupScreenForPlayer1();\r\n  }\r\n\r\n  function transitionFromPlayer1SetupToPlayer2PassDeviceScreen() {\r\n    const { player2 } = getPlayers();\r\n    domHandler.removeSetupScreen();\r\n    domHandler.renderPassDeviceScreen(player2);\r\n    setEventListenerOnReadyButton(\r\n      transitionFromPlayer2PassDeviceToPlayer2SetupScreen,\r\n    );\r\n  }\r\n\r\n  function transitionFromPlayer2PassDeviceToPlayer2SetupScreen() {\r\n    const { player2 } = getPlayers();\r\n    domHandler.removePassDeviceScreen();\r\n    document.querySelector(\".page-cover\").remove();\r\n    player2.gameboard.setShipsRandomly();\r\n    const startDomGameboard = domHandler.createDomGameboard();\r\n    domHandler.placeShipsOnGameboard(player2.gameboard, startDomGameboard);\r\n    domHandler.renderSetupScreen(startDomGameboard);\r\n    setEventListenersOnSetupScreenForPlayer2();\r\n  }\r\n\r\n  function transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen() {\r\n    const { player1 } = getPlayers();\r\n    domHandler.removeSetupScreen();\r\n    domHandler.renderPassDeviceScreen(player1);\r\n    setEventListenerOnReadyButton(transitionFromPlayer1PassDeviceScreenToGame);\r\n  }\r\n\r\n  function transitionFromPlayer1PassDeviceScreenToGame() {\r\n    const { player1, player2 } = getPlayers();\r\n    domHandler.removePassDeviceScreen();\r\n    document.querySelector(\".page-cover\").remove();\r\n    domHandler.hideShipPlacementFromDOMGameboard(player2.getDomGameboard());\r\n    domHandler.appendGameboardOnDOM(player1.getDomGameboard(), \"Player1\");\r\n    domHandler.appendGameboardOnDOM(player2.getDomGameboard(), \"Player2\");\r\n    setEventListenersOnGameboard(player2.getDomGameboard(), \"PVP\");\r\n    domHandler.renderInfoContainer();\r\n    domHandler.showMessageOnInfoContainer(player1, \"start\");\r\n    domHandler.addGameViewClassToMain();\r\n  }\r\n\r\n  function getClassFromDomCell(event) {\r\n    let coordinateClass;\r\n    for (const className of event.target.classList) {\r\n      if (/^[A-J](10|[1-9])$/.test(className)) {\r\n        coordinateClass = className;\r\n        break;\r\n      }\r\n    }\r\n    return coordinateClass;\r\n  }\r\n\r\n  function getCoordinateAsArrayFromClass(coordinateClass) {\r\n    return [coordinateClass[0], parseInt(coordinateClass.slice(1), 10)];\r\n  }\r\n\r\n  function handleClickOnGameBoardForPlayerVsPC(event) {\r\n    const { player1, player2 } = getPlayers();\r\n    const pcPlayer = player2;\r\n    const gameboard = event.currentTarget;\r\n    if (!event.target.classList.contains(\"cell\")) return;\r\n    const coordinateClass = getClassFromDomCell(event);\r\n    if (!coordinateClass) return;\r\n    const coordinateAsArray = getCoordinateAsArrayFromClass(coordinateClass);\r\n\r\n    let waitingPlayer;\r\n    let playingPlayer;\r\n    if (pcPlayer.getDomGameboard() === gameboard) {\r\n      waitingPlayer = pcPlayer;\r\n      playingPlayer = player1;\r\n    } else {\r\n      waitingPlayer = player1;\r\n      playingPlayer = pcPlayer;\r\n    }\r\n\r\n    const attackResult =\r\n      waitingPlayer.gameboard.receiveAttack(coordinateAsArray);\r\n    if (waitingPlayer === pcPlayer) {\r\n      if (attackResult === false) {\r\n        removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVC\");\r\n        domHandler.markMissedAttacksOnDOMGameboard(\r\n          waitingPlayer.gameboard,\r\n          waitingPlayer.getDomGameboard(),\r\n        );\r\n        domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n          playingPlayer,\r\n          \"missed\",\r\n        );\r\n        setTimeout(() => {\r\n          setEventListenersOnGameboard(playingPlayer.getDomGameboard(), \"PVC\");\r\n          pcPlayer.automatedAttack(\r\n            playingPlayer.getDomGameboard(),\r\n            playingPlayer.getGameboard(),\r\n          );\r\n        }, 1000);\r\n        return;\r\n      } else if (attackResult === true) {\r\n        domHandler.markSuccessfulAttacksOnDOMGameboard(\r\n          waitingPlayer.gameboard,\r\n          waitingPlayer.getDomGameboard(),\r\n        );\r\n        if (waitingPlayer.gameboard.haveAllShipsBeenSunk() === true) {\r\n          removeEventListenersOnGameboard(\r\n            waitingPlayer.getDomGameboard(),\r\n            \"PVC\",\r\n          );\r\n          endGame(playingPlayer.getName());\r\n          domHandler.renderEndScreen(playingPlayer);\r\n          setEventListenerOnNewGameButton();\r\n          return;\r\n        }\r\n        if (waitingPlayer.gameboard.hasLastAttackSunkAShip()) {\r\n          const lastSunkShip = waitingPlayer.gameboard.getLastSunkShip();\r\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n            playingPlayer,\r\n            \"sunk\",\r\n            lastSunkShip.getName(),\r\n          );\r\n        } else {\r\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n            playingPlayer,\r\n            \"hit\",\r\n          );\r\n        }\r\n        return;\r\n      } else {\r\n        domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n          playingPlayer,\r\n          \"null\",\r\n        );\r\n        return;\r\n      }\r\n    } else if (playingPlayer === pcPlayer) {\r\n      //false\r\n      if (attackResult === false) {\r\n        removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVC\");\r\n        setEventListenersOnGameboard(playingPlayer.getDomGameboard(), \"PVC\");\r\n        domHandler.markMissedAttacksOnDOMGameboard(\r\n          waitingPlayer.gameboard,\r\n          waitingPlayer.getDomGameboard(),\r\n        );\r\n        domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n          playingPlayer,\r\n          \"missed\",\r\n        );\r\n        pcPlayer.attackResults.push([coordinateClass, false]);\r\n      }\r\n      //true\r\n      else if (attackResult === true) {\r\n        domHandler.markSuccessfulAttacksOnDOMGameboard(\r\n          waitingPlayer.gameboard,\r\n          waitingPlayer.getDomGameboard(),\r\n        );\r\n        if (waitingPlayer.gameboard.haveAllShipsBeenSunk() === true) {\r\n          removeEventListenersOnGameboard(\r\n            waitingPlayer.getDomGameboard(),\r\n            \"PVC\",\r\n          );\r\n          endGame(playingPlayer.getName());\r\n          domHandler.renderEndScreen(playingPlayer);\r\n          setEventListenerOnNewGameButton();\r\n          return;\r\n        }\r\n        if (waitingPlayer.gameboard.hasLastAttackSunkAShip()) {\r\n          removeEventListenersOnGameboard(\r\n            waitingPlayer.getDomGameboard(),\r\n            \"PVC\",\r\n          );\r\n          const lastSunkShip = waitingPlayer.gameboard.getLastSunkShip();\r\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n            playingPlayer,\r\n            \"sunk\",\r\n            lastSunkShip.getName(),\r\n          );\r\n        } else {\r\n          removeEventListenersOnGameboard(\r\n            waitingPlayer.getDomGameboard(),\r\n            \"PVC\",\r\n          );\r\n          domHandler.showMessageInInfoContainerForPlayerVsPC(\r\n            playingPlayer,\r\n            \"hit\",\r\n          );\r\n        }\r\n        pcPlayer.attackResults.push([coordinateClass, true]);\r\n        setTimeout(() => {\r\n          setEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVC\");\r\n          pcPlayer.automatedAttack(\r\n            waitingPlayer.getDomGameboard(),\r\n            waitingPlayer.getGameboard(),\r\n          );\r\n        }, 1000);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleClickOnGameBoard(event) {\r\n    const { player1, player2 } = getPlayers();\r\n    const gameboard = event.currentTarget;\r\n    if (!event.target.classList.contains(\"cell\")) return;\r\n    const coordinateClass = getClassFromDomCell(event);\r\n    if (!coordinateClass) return;\r\n    const coordinateAsArray = getCoordinateAsArrayFromClass(coordinateClass);\r\n\r\n    let waitingPlayer;\r\n    let playingPlayer;\r\n\r\n    if (player2.getDomGameboard() === gameboard) {\r\n      waitingPlayer = player2;\r\n      playingPlayer = player1;\r\n    } else {\r\n      waitingPlayer = player1;\r\n      playingPlayer = player2;\r\n    }\r\n\r\n    const attackResult =\r\n      waitingPlayer.gameboard.receiveAttack(coordinateAsArray);\r\n    if (attackResult === false) {\r\n      removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVP\");\r\n      domHandler.markMissedAttacksOnDOMGameboard(\r\n        waitingPlayer.gameboard,\r\n        waitingPlayer.getDomGameboard(),\r\n      );\r\n      domHandler.showMessageOnInfoContainer(playingPlayer, \"missed\");\r\n      domHandler.renderEndTurnButton();\r\n      setEventListenerOnEndTurnButton(playingPlayer, waitingPlayer);\r\n      return;\r\n    } else if (attackResult === true) {\r\n      domHandler.markSuccessfulAttacksOnDOMGameboard(\r\n        waitingPlayer.gameboard,\r\n        waitingPlayer.getDomGameboard(),\r\n      );\r\n      if (waitingPlayer.gameboard.haveAllShipsBeenSunk() === true) {\r\n        removeEventListenersOnGameboard(waitingPlayer.getDomGameboard(), \"PVP\");\r\n        endGame(playingPlayer.getName());\r\n        domHandler.renderEndScreen(playingPlayer);\r\n        setEventListenerOnNewGameButton();\r\n        return;\r\n      }\r\n      if (waitingPlayer.gameboard.hasLastAttackSunkAShip()) {\r\n        const lastSunkShip = waitingPlayer.gameboard.getLastSunkShip();\r\n        domHandler.showMessageOnInfoContainer(\r\n          playingPlayer,\r\n          \"sunk\",\r\n          lastSunkShip.getName(),\r\n        );\r\n      } else {\r\n        domHandler.showMessageOnInfoContainer(playingPlayer, \"hit\");\r\n      }\r\n      return;\r\n    }\r\n    domHandler.showMessageOnInfoContainer(playingPlayer, \"null\");\r\n  }\r\n\r\n  return {\r\n    handleClickOnGameBoardForPlayerVsPC,\r\n    handleClickOnGameBoard,\r\n    transitionFromChooseModeToPlayer1PassDeviceScreen,\r\n    transitionFromPlayer1SetupToPlayer2PassDeviceScreen,\r\n    transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen,\r\n  };\r\n}\r\n"],"names":["Ship","length","numberOfHits","name","constructor","this","hit","isSunk","setName","getName","Gameboard","missedAttacks","successfulAttacks","placedShips","sunkShips","board","letters","A","B","C","D","E","F","G","H","I","J","setShip","shipLength","startRow","startColumn","endRow","endColumn","areCoordinatesAvailable","shipPath","getShipPath","ship","push","areCoordinatesWithinBounds","isAnyCoordinateOfPathTaken","smallerColumn","largerColumn","getShipColumnPath","smallerRow","largerRow","indexOfSmallerRow","indexOf","indexOfLargerRow","getShipRowPath","column","i","row","isCoordinateTakenByAShip","wasTheCoordinateShotAlready","flatMap","some","coord","receiveAttack","getShipThatWasHit","attack","placedShipEntry","find","coordinate","haveAllShipsBeenSunk","every","hasLastAttackSunkAShip","lastSuccessfulAttack","getLastSunkShip","setShipsRandomly","getRandomAvailableShipPath","getShipNameFromLength","randomIntForStartRow","randomIntForStartColumn","randomPlacementInt","getRandomInt","variant","min","max","Math","floor","random","coordinatePair","Player","gameboard","domGameboard","mode","attackResults","setDomGameboard","getDomGameboard","getGameboard","setMode","keyword","getMode","automatedAttack","enemyDomGameboard","enemyGameboard","allAttackedCells","map","entry","lastSuccessfulEntry","getCoordinateOfLastSuccessfulAttack","indexOfCurrentRow","currentColumnInt","parseInt","slice","entriesOfLastHitShip","getAllSuccessfulEntriesOfLastHitShip","allEntries","firstEntry","lastEntry","firstEntryAsArray","getCoordinateAsArray","lastEntryAsArray","newCell","randomInt","getCellAdjacentByOne","includes","newCellNode","querySelector","click","adjacentCellClass","adjacentCellNode","doRandomAttack","getLastSuccessfulEntry","lastSuccessfulAttackAsAnArray","lastShipThatWasHit","allEntriesOfLastHitShip","forEach","sortEntries","entries","entriesAsArrays","sort","a","b","rowOfNewAttack","columnOfNewAttack","randomColumnInt","randomRowInt","targetClass","targetCell","handleDom","placeShipsOnGameboard","domboard","allCells","querySelectorAll","className","cell","Array","from","classList","contains","style","backgroundColor","hideShipPlacementFromDOMGameboard","markMissedAttacksOnDOMGameboard","markSuccessfulAttacksOnDOMGameboard","removePassDeviceScreen","document","remove","removeGameViewClassFromMain","createDomGameboard","container","createElement","add","columnDisplay","rowDisplay","rowDisplayNumber","textContent","append","columnDisplayLetter","j","appendChild","appendGameboardOnDOM","playerName","main","showMessageOnInfoContainer","player","shipName","infoContainer","renderSetupScreen","div","nameInput","nameLabel","id","type","htmlFor","intro","shuffleButton","setupNextButton","removeShipsFromDOMGameboard","removeSetupScreen","showMessageInInfoContainerForPlayerVsPC","renderEndScreen","winner","endH2","newGameButton","pageCoverDiv","removeEndScreen","renderChooseModeScreen","h2","playerButton","pcButton","chooseModeNextButton","removeChooseModeScreen","renderPassDeviceScreen","button","h1","renderEndTurnButton","removeEndTurnButton","switchGameboardVisibility","waitingPlayer","playingPlayer","renderInfoContainer","addGameViewClassToMain","game","domHandler","eventHandler","eventListeners","player1","player2","player1DomGameboard","player2DomGameboard","setPlayers","setEventListenersOnChooseModeScreen","endGame","resetGame","controller","setEventListenerOnReadyButton","callback","readyButton","addEventListener","setEventListenersOnSetupScreenForPlayerVsComputer","getElementById","value","startDomGameboard","setEventListenersOnGameboard","handleClickOnGameBoard","handleClickOnGameBoardForPlayerVsPC","removeEventListenersOnGameboard","removeEventListener","setEventListenerOnNewGameButton","deps","getPlayers","setEventListenerOnEndTurnButton","setEventListenersOnSetupScreenForPlayer1","setEventListenersOnSetupScreenForPlayer2","transitionFromPlayer1PassDeviceToPlayer1SetupScreen","transitionFromPlayer2PassDeviceToPlayer2SetupScreen","transitionFromPlayer1PassDeviceScreenToGame","getClassFromDomCell","event","coordinateClass","target","test","getCoordinateAsArrayFromClass","pcPlayer","currentTarget","coordinateAsArray","attackResult","lastSunkShip","setTimeout","transitionFromChooseModeToPlayer1PassDeviceScreen","transitionFromPlayer1SetupToPlayer2PassDeviceScreen","transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen","gameController","endTurnButton","swapEventListenersOfGameboards","p1","p2","setUpDomGameboard"],"sourceRoot":""}