(()=>{"use strict";class e{length;numberOfHits=0;name;constructor(e){this.length=e}hit(){this.numberOfHits++}isSunk(){return this.numberOfHits===this.length}setName(e){this.name=e}getName(){return this.name}}class t{missedAttacks=[];successfulAttacks=[];placedShips=[];sunkShips=[];board;letters=["A","B","C","D","E","F","G","H","I","J"];constructor(){this.board={A:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],B:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],C:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],D:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],E:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],F:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],G:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],H:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],I:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]],J:[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10]]}}setShip(t,[n,a],[o,r],s){if(!this.areCoordinatesAvailable([n,a],[o,r]))return null;let c=this.getShipPath([n,a],[o,r]);const i=new e(t);return i.setName(s),this.placedShips.push([i,c]),!0}areCoordinatesAvailable([e,t],[n,a]){if(e!==n&&t!==a)return!1;let o=this.getShipPath([e,t],[n,a]);return!!this.areCoordinatesWithinBounds(o)&&!this.isAnyCoordinateOfPathTaken(o)}getShipPath([e,t],[n,a]){if(e===n){let n,o;return t<a?(n=t,o=a):(n=a,o=t),this.getShipColumnPath(n,o,e)}{let a,o;e<n?(a=e,o=n):(a=n,o=e);let r=this.letters.indexOf(a),s=this.letters.indexOf(o);return this.getShipRowPath(r,s,t)}}getShipRowPath(e,t,n){let a=[];for(let o=e;o<=t;o++)a.push([this.letters[o],n]);return a}getShipColumnPath(e,t,n){let a=[];for(let o=e;o<=t;o++)a.push([n,o]);return a}isAnyCoordinateOfPathTaken(e){for(let t=0;t<e.length;t++)if(this.isCoordinateTakenByAShip(e[t])||this.wasTheCoordinateShotAlready(e[t]))return!0;return!1}isCoordinateTakenByAShip([e,t]){return this.placedShips.flatMap(e=>e[1]).some(n=>n[0]===e&&n[1]===t)}receiveAttack([e,t]){if(this.wasTheCoordinateShotAlready([e,t]))return null;if(this.isCoordinateTakenByAShip([e,t])){let n=this.getShipThatWasHit([e,t]);return n.hit(),this.successfulAttacks.push([e,t]),n.isSunk()&&this.sunkShips.push(n),!0}return this.missedAttacks.push([e,t]),!1}wasTheCoordinateShotAlready([e,t]){return this.missedAttacks.some(n=>n[0]===e&&n[1]===t)||this.successfulAttacks.some(n=>n[0]===e&&n[1]===t)}getShipThatWasHit([e,t]){const n=this.placedShips.find(n=>n[1].some(n=>n[0]===e&&n[1]===t));return n?n[0]:null}haveAllShipsBeenSunk(){return this.placedShips.flatMap(e=>e[1]).every(e=>this.successfulAttacks.some(t=>t[0]===e[0]&&t[1]===e[1]))}hasLastAttackSunkAShip(){const e=this.successfulAttacks[this.successfulAttacks.length-1];return this.getShipThatWasHit(e).isSunk()}getLastSunkShip(){return this.sunkShips[this.sunkShips.length-1]}setShipsRandomly(){0!=this.placedShips.length&&(this.placedShips=[]);for(let t=2;t<6;t++){let n=this.getRandomAvailableShipPath(t);const a=new e(t);if(a.setName(this.getShipNameFromLength(t)),this.placedShips.push([a,n]),3===t){let n=this.getRandomAvailableShipPath(t);const a=new e(t);a.setName(this.getShipNameFromLength(t,"S")),this.placedShips.push([a,n])}}}getRandomAvailableShipPath(e){let t;for(;;){let n,a,o,r,s=this.getRandomInt(1,2);if(1===s?(o=this.getRandomInt(0,10-e),n=o,a=this.getRandomInt(1,10),t=this.getShipRowPath(n,n+e-1,a)):2===s&&(r=this.getRandomInt(1,11-e),a=r,n=this.letters[this.getRandomInt(0,9)],t=this.getShipColumnPath(a,a+e-1,n)),!this.isAnyCoordinateOfPathTaken(t)&&this.areCoordinatesWithinBounds(t))break}return t}getShipNameFromLength(e,t=""){switch(e){case 2:return"Patrol Boat";case 3:return"S"==t?"Submarine":"Destroyer";case 4:return"Battleship";case 5:return"Carrier"}}getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}areCoordinatesWithinBounds(e){return e.every(e=>e[0]>="A"&&e[0]<="J"&&e[1]>=1&&e[1]<=10)}}class n{gameboard;domGameboard;name;mode;attackResults=[];constructor(e){this.gameboard=new t,this.name=e}setDomGameboard(e){this.domGameboard=e}getDomGameboard(){return this.domGameboard}getGameboard(){return this.gameboard}getName(){return this.name}setName(e){this.name=e}setMode(e){this.mode=e}getMode(){return this.mode}automatedAttack(e,t){for(;;){let n=this.attackResults.map(e=>e[0]);const a=this.getCoordinateOfLastSuccessfulAttack();if(a){let o=this.gameboard.letters.indexOf(a[0][0]),r=parseInt(a.slice(1),10);if(t.getShipThatWasHit([t.letters[o],r])!=t.getLastSunkShip()){const a=this.getAllSuccessfulEntriesOfLastHitShip(t);if(a.length>=2){const t=a,o=t[0],r=t[t.length-1],s=this.getCoordinateAsArray(o),c=this.getCoordinateAsArray(r);for(;;){let t,a=this.gameboard.getRandomInt(1,2);if(o[0]===r[0])switch(a){case 1:t=this.getCellAdjacentByOne(3,this.gameboard.letters.indexOf(s[0]),s[1]);break;case 2:t=this.getCellAdjacentByOne(4,this.gameboard.letters.indexOf(c[0]),c[1])}else switch(a){case 1:t=this.getCellAdjacentByOne(1,this.gameboard.letters.indexOf(s[0]),s[1]);break;case 2:t=this.getCellAdjacentByOne(2,this.gameboard.letters.indexOf(c[0]),c[1])}if(n.includes(t))continue;let i=e.querySelector(`.${t}`);if(i){i.click();break}}return}for(;;){let t=this.gameboard.getRandomInt(1,4),a=this.getCellAdjacentByOne(t,o,r);if(n.includes(a))continue;let s=e.querySelector(`.${a}`);if(s){s.click();break}}return}}if(this.doRandomAttack(e,n))break}}getLastSuccessfulEntry(){if(0===this.attackResults.length)return!1;for(let e=this.attackResults.length-1;e>=0;e--)if(!0===this.attackResults[e][1])return this.attackResults[e]}getCoordinateOfLastSuccessfulAttack(){let e=this.getLastSuccessfulEntry();return!!e&&e[0]}getCoordinateAsArray(e){return[e[0],parseInt(e.slice(1),10)]}getAllSuccessfulEntriesOfLastHitShip(e){const t=this.getCoordinateOfLastSuccessfulAttack();if(!t)return[];const n=this.getCoordinateAsArray(t),a=e.getShipThatWasHit(n);let o=[];return this.attackResults.forEach(t=>{e.getShipThatWasHit(this.getCoordinateAsArray(t[0]))===a&&o.push(t[0])}),this.sortEntries(o)}sortEntries(e){if(e.length<=1)return e;let t=[];return e.forEach(e=>{t.push(this.getCoordinateAsArray(e))}),t[0][0]===t[1][0]?t.sort((e,t)=>e[1]-t[1]):t.sort(),t.map(e=>e[0]+e[1])}getCellAdjacentByOne(e,t,n){let a,o;switch(e){case 1:a=0!==t?this.gameboard.letters[t-1]:this.gameboard.letters[t+1],o=n;break;case 2:a=9!==t?this.gameboard.letters[t+1]:this.gameboard.letters[t-1],o=n;break;case 3:o=1!==n?n-1:n+1,a=this.gameboard.letters[t];break;case 4:o=10!==n?n+1:n-1,a=this.gameboard.letters[t]}return a+o}doRandomAttack(e,t){const n=this.gameboard.getRandomInt(1,10),a=this.gameboard.getRandomInt(0,9);let o=this.gameboard.letters[a]+n,r=e.querySelector(`.${o}`);return!t.includes(o)&&!!r&&(r.click(),!0)}}const a=function(){function e(e,t){const n=t.querySelectorAll(".cell");e.placedShips.flatMap(e=>e[1]).map(e=>e[0]+e[1]).forEach(e=>{const t=Array.from(n).find(t=>t.classList.contains(e));"rgb(29, 137, 187, 1)"!==t.style.backgroundColor&&"rgb(200, 40, 35)"!==t.style.backgroundColor&&(t.style.backgroundColor="rgb(128, 128, 128)")})}function t(e){e.querySelectorAll(".cell").forEach(e=>{"rgb(128, 128, 128)"===e.style.backgroundColor&&(e.style.backgroundColor="white")})}function n(e,t){const n=t.querySelectorAll(".cell");e.missedAttacks.map(e=>e[0]+e[1]).forEach(e=>{Array.from(n).find(t=>t.classList.contains(e)).style.backgroundColor="rgb(29, 137, 187, 1)"})}function a(e,t){const n=t.querySelectorAll(".cell");e.successfulAttacks.map(e=>e[0]+e[1]).forEach(e=>{Array.from(n).find(t=>t.classList.contains(e)).style.backgroundColor="rgb(200, 40, 35)"})}function o(){document.querySelector(".pass-device-screen").remove()}function r(){document.querySelector("main").classList.remove("game-layout")}return{createDomGameboard:function(){const e=document.createElement("div"),t=["A","B","C","D","E","F","G","H","I","J"];let n=document.createElement("div");n.classList.add("board");const a=document.createElement("div");a.classList.add("column-display");let o=document.createElement("div");o.classList.add("row-display");for(let e=1;e<=10;e++){let t=document.createElement("div");t.textContent=e,o.append(t)}for(let e=0;e<10;e++){let o=document.createElement("div");o.textContent=t[e],a.append(o);let r=document.createElement("div");r.classList.add("column"),r.classList.add(t[e]);for(let n=1;n<=10;n++){let a=document.createElement("div");r.appendChild(a),a.classList.add("cell"),a.classList.add(t[e]+n),a.style.backgroundColor="white"}n.appendChild(r)}return e.appendChild(a),e.appendChild(o),e.append(n),e},placeShipsOnGameboard:e,appendGameboardOnDOM:function(e,t){const n=document.querySelector("main");e.classList.add("board-container"),e.classList.add(t),n.appendChild(e)},markMissedAttacksOnDOMGameboard:n,markSuccessfulAttacksOnDOMGameboard:a,showMessageOnInfoContainer:function(e,t,n=""){const a=document.querySelector(".info-container");switch(t){case"hit":a.textContent="You hit an enemy ship!";break;case"sunk":a.textContent="You have sunk the enemies "+n+"!";break;case"missed":a.textContent="You missed!";break;case"null":a.textContent="You can't attack the same cell twice!";break;case"start":a.textContent="You start, "+e.getName()+"!"}},renderSetupScreen:function(e){const t=document.createElement("div");t.classList.add("setup-screen");const n=document.createElement("input"),a=document.createElement("label");n.id="name",n.type="text",a.htmlFor="name",a.textContent="Enter Your Name:";const o=document.createElement("h2");o.textContent="Choose Your Ship Placement:";const r=document.createElement("button");r.textContent="Shuffle",r.classList.add("shuffle-button");const s=document.createElement("button");s.textContent="Next",s.classList.add("next-button","setup"),e.classList.add("board-container");const c=document.querySelector("main");a.appendChild(n),c.appendChild(t),t.appendChild(a),t.appendChild(o),t.appendChild(r),t.appendChild(e),t.appendChild(s)},removeShipsFromDOMGameboard:function(e){e.querySelectorAll(".cell").forEach(e=>{e.style.backgroundColor="white"})},removeSetupScreen:function(){document.querySelector(".setup-screen").remove()},showMessageInInfoContainerForPlayerVsPC:function(e,t,n=""){const a=document.querySelector(".info-container");if("PC"===e.getMode())switch(t){case"hit":a.textContent="The enemy has hit one of your ships!";break;case"sunk":a.textContent="The enemy has sunk your "+n+"!";break;case"missed":a.textContent="The enemy missed!"}else if("Human"===e.getMode())switch(t){case"hit":a.textContent="You hit an enemy ship!";break;case"sunk":a.textContent="You have sunk the enemies "+n+"!";break;case"missed":a.textContent="You missed!";break;case"null":a.textContent="You can't attack the same cell twice!";break;case"start":a.textContent="You start, "+e.getName()+"!"}},renderEndScreen:function(e){const t=document.createElement("div");t.classList.add("end-screen");const n=document.createElement("h2");n.textContent=`${e.getName()} won!`;const a=document.createElement("button");a.textContent="new game",a.classList.add("new-game");const o=document.createElement("div");o.classList.add("page-cover");const r=document.querySelector("main");t.appendChild(n),t.appendChild(a),r.appendChild(t),document.querySelector("#root").appendChild(o),document.querySelector(".info-container")&&document.querySelector(".info-container").remove()},removeEndScreen:function(){document.querySelector(".end-screen").remove(),document.querySelector(".page-cover").remove(),document.querySelector(".game-layout")&&r()},renderChooseModeScreen:function(){const e=document.createElement("div");e.classList.add("choose-mode-screen");const t=document.createElement("h2");t.textContent="Choose your opponent";const n=document.createElement("button");n.classList.add("player-button"),n.textContent="Local Player";const a=document.createElement("button");a.classList.add("pc-button","active-mode"),a.textContent="Computer";const o=document.createElement("button");o.textContent="Next",o.classList.add("next-button","choose-mode"),e.appendChild(t),e.appendChild(a),e.appendChild(n),e.appendChild(o),document.querySelector("main").appendChild(e)},removeChooseModeScreen:function(){document.querySelector(".choose-mode-screen").remove()},renderPassDeviceScreen:function(e){const t=document.createElement("div");t.classList.add("pass-device-screen");const n=document.createElement("button");n.textContent="Ready",n.classList.add("ready-button");const a=document.createElement("h1");a.textContent=`Pass device to ${e.getName()}`,t.appendChild(a),t.appendChild(n),document.querySelector("main").appendChild(t);const o=document.createElement("div");o.classList.add("page-cover"),document.querySelector("#root").appendChild(o)},removePassDeviceScreen:o,hideShipPlacementFromDOMGameboard:t,renderEndTurnButton:function(){const e=document.createElement("button");e.classList.add("end-turn-button"),e.textContent="End Turn",document.querySelector("main").appendChild(e)},removeEndTurnButton:function(){document.querySelector(".end-turn-button").remove()},switchGameboardVisibility:function(r,s){document.querySelector(".page-cover").remove(),o(),t(s.getDomGameboard()),e(r.gameboard,r.getDomGameboard()),n(s.gameboard,s.getDomGameboard()),a(s.gameboard,s.getDomGameboard()),n(r.gameboard,r.getDomGameboard()),a(r.gameboard,r.getDomGameboard())},renderInfoContainer:function(){const e=document.createElement("div");e.classList.add("info-container"),document.querySelector("main").appendChild(e)},addGameViewClassToMain:function(){document.querySelector("main").classList.add("game-layout")},removeGameViewClassFromMain:r}},o=function(){const e=a(),t=c(),o=new n("Player1"),r=new n("Player2"),s=e.createDomGameboard(),i=e.createDomGameboard();o.setDomGameboard(s),r.setDomGameboard(i),o.setMode("Human"),t.setPlayers(o,r),e.renderChooseModeScreen(),t.setEventListenersOnChooseModeScreen()};function r(e){document.querySelector(".info-container").textContent=e+" has won!"}function s(){document.querySelectorAll(".board-container").forEach(e=>e.remove());const e=document.querySelector(".info-container");e&&(e.textContent=""),a().removeEndScreen(),o()}const c=function(){const e=a();let t,n,o;function c(e){const t=document.querySelector(".ready-button");t&&t.addEventListener("click",e)}function i(){const a=document.getElementById("name");a&&(a.value="Player1");const o=document.querySelector(".shuffle-button");if(o){const n=document.querySelector(".setup-screen .board-container");document.querySelector(".setup-screen").classList.add("pvc"),o.addEventListener("click",function(){t.gameboard.setShipsRandomly(),e.removeShipsFromDOMGameboard(n),e.placeShipsOnGameboard(t.gameboard,n)})}const r=document.querySelector(".next-button.setup");r&&r.addEventListener("click",function(){const a=document.getElementById("name"),o=a?.value??"";o&&t.setName(o),e.removeSetupScreen(),n.gameboard.setShipsRandomly(),e.placeShipsOnGameboard(t.gameboard,t.getDomGameboard()),e.appendGameboardOnDOM(t.getDomGameboard(),"player1"),e.appendGameboardOnDOM(n.getDomGameboard(),"player2"),d(n.getDomGameboard(),"PVC"),e.renderInfoContainer(),e.showMessageOnInfoContainer(t,"start")})}function d(t,n){"PVP"===n?t.addEventListener("click",o.handleClickOnGameBoard):"PVC"===n&&(e.addGameViewClassToMain(),t.addEventListener("click",o.handleClickOnGameBoardForPlayerVsPC))}function m(e,t){"PVP"===t?e.removeEventListener("click",o.handleClickOnGameBoard):"PVC"===t&&e.removeEventListener("click",o.handleClickOnGameBoardForPlayerVsPC)}function l(){const e=document.querySelector(".new-game");e&&e.addEventListener("click",s)}return o=function(e){const{domHandler:t,getPlayers:n,setEventListenersOnGameboard:a,removeEventListenersOnGameboard:o,endGame:r,setEventListenerOnNewGameButton:s,setEventListenerOnEndTurnButton:c,setEventListenerOnReadyButton:i,setEventListenersOnSetupScreenForPlayer1:d,setEventListenersOnSetupScreenForPlayer2:m}=e;function l(){const{player1:e}=n();t.removePassDeviceScreen(),document.querySelector(".page-cover").remove(),e.gameboard.setShipsRandomly();const a=t.createDomGameboard();t.placeShipsOnGameboard(e.gameboard,a),t.renderSetupScreen(a),d()}function u(){const{player2:e}=n();t.removePassDeviceScreen(),document.querySelector(".page-cover").remove(),e.gameboard.setShipsRandomly();const a=t.createDomGameboard();t.placeShipsOnGameboard(e.gameboard,a),t.renderSetupScreen(a),m()}function h(){const{player1:e,player2:o}=n();t.removePassDeviceScreen(),document.querySelector(".page-cover").remove(),t.hideShipPlacementFromDOMGameboard(o.getDomGameboard()),t.appendGameboardOnDOM(e.getDomGameboard(),"Player1"),t.appendGameboardOnDOM(o.getDomGameboard(),"Player2"),a(o.getDomGameboard(),"PVP"),t.renderInfoContainer(),t.showMessageOnInfoContainer(e,"start"),t.addGameViewClassToMain()}function p(e){let t;for(const n of e.target.classList)if(/^[A-J](10|[1-9])$/.test(n)){t=n;break}return t}function g(e){return[e[0],parseInt(e.slice(1),10)]}return{handleClickOnGameBoardForPlayerVsPC:function(e){const{player1:c,player2:i}=n(),d=i,m=e.currentTarget;if(!e.target.classList.contains("cell"))return;const l=p(e);if(!l)return;const u=g(l);let h,b;d.getDomGameboard()===m?(h=d,b=c):(h=c,b=d);const S=h.gameboard.receiveAttack(u);if(h!==d){if(b===d)if(!1===S)o(h.getDomGameboard(),"PVC"),a(b.getDomGameboard(),"PVC"),t.markMissedAttacksOnDOMGameboard(h.gameboard,h.getDomGameboard()),t.showMessageInInfoContainerForPlayerVsPC(b,"missed"),d.attackResults.push([l,!1]);else if(!0===S){if(t.markSuccessfulAttacksOnDOMGameboard(h.gameboard,h.getDomGameboard()),!0===h.gameboard.haveAllShipsBeenSunk())return o(h.getDomGameboard(),"PVC"),r(b.getName()),t.renderEndScreen(b),void s();if(h.gameboard.hasLastAttackSunkAShip()){o(h.getDomGameboard(),"PVC");const e=h.gameboard.getLastSunkShip();t.showMessageInInfoContainerForPlayerVsPC(b,"sunk",e.getName())}else o(h.getDomGameboard(),"PVC"),t.showMessageInInfoContainerForPlayerVsPC(b,"hit");return d.attackResults.push([l,!0]),void setTimeout(()=>{a(h.getDomGameboard(),"PVC"),d.automatedAttack(h.getDomGameboard(),h.getGameboard())},1e3)}}else{if(!1===S)return o(h.getDomGameboard(),"PVC"),t.markMissedAttacksOnDOMGameboard(h.gameboard,h.getDomGameboard()),t.showMessageInInfoContainerForPlayerVsPC(b,"missed"),void setTimeout(()=>{a(b.getDomGameboard(),"PVC"),d.automatedAttack(b.getDomGameboard(),b.getGameboard())},1e3);if(!0===S){if(t.markSuccessfulAttacksOnDOMGameboard(h.gameboard,h.getDomGameboard()),!0===h.gameboard.haveAllShipsBeenSunk())return o(h.getDomGameboard(),"PVC"),r(b.getName()),t.renderEndScreen(b),void s();if(h.gameboard.hasLastAttackSunkAShip()){const e=h.gameboard.getLastSunkShip();t.showMessageInInfoContainerForPlayerVsPC(b,"sunk",e.getName())}else t.showMessageInInfoContainerForPlayerVsPC(b,"hit");return}t.showMessageInInfoContainerForPlayerVsPC(b,"null")}},handleClickOnGameBoard:function(e){const{player1:a,player2:i}=n(),d=e.currentTarget;if(!e.target.classList.contains("cell"))return;const m=p(e);if(!m)return;const l=g(m);let u,h;i.getDomGameboard()===d?(u=i,h=a):(u=a,h=i);const b=u.gameboard.receiveAttack(l);if(!1===b)return o(u.getDomGameboard(),"PVP"),t.markMissedAttacksOnDOMGameboard(u.gameboard,u.getDomGameboard()),t.showMessageOnInfoContainer(h,"missed"),t.renderEndTurnButton(),void c(h,u);if(!0!==b)t.showMessageOnInfoContainer(h,"null");else{if(t.markSuccessfulAttacksOnDOMGameboard(u.gameboard,u.getDomGameboard()),!0===u.gameboard.haveAllShipsBeenSunk())return o(u.getDomGameboard(),"PVP"),r(h.getName()),t.renderEndScreen(h),void s();if(u.gameboard.hasLastAttackSunkAShip()){const e=u.gameboard.getLastSunkShip();t.showMessageOnInfoContainer(h,"sunk",e.getName())}else t.showMessageOnInfoContainer(h,"hit")}},transitionFromChooseModeToPlayer1PassDeviceScreen:function(){const{player1:e}=n();t.removeChooseModeScreen(),t.renderPassDeviceScreen(e),i(l)},transitionFromPlayer1SetupToPlayer2PassDeviceScreen:function(){const{player2:e}=n();t.removeSetupScreen(),t.renderPassDeviceScreen(e),i(u)},transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen:function(){const{player1:e}=n();t.removeSetupScreen(),t.renderPassDeviceScreen(e),i(h)}}}({domHandler:e,getPlayers:()=>({player1:t,player2:n}),setEventListenersOnGameboard:d,removeEventListenersOnGameboard:m,endGame:r,setEventListenerOnNewGameButton:l,setEventListenerOnEndTurnButton:function(t,n){const a=document.querySelector(".end-turn-button");a&&a.addEventListener("click",function(){e.renderPassDeviceScreen(n),e.hideShipPlacementFromDOMGameboard(t.getDomGameboard()),c(()=>{e.switchGameboardVisibility(n,t),function(e){d(e.getDomGameboard(),"PVP")}(t),e.addGameViewClassToMain()}),e.removeEndTurnButton()})},setEventListenerOnReadyButton:c,setEventListenersOnSetupScreenForPlayer1:function(){const n=document.getElementById("name");n&&(n.value="Player1");const a=document.querySelector(".shuffle-button");if(document.querySelector(".setup-screen").classList.add("PVP-player1"),a){const n=document.querySelector(".setup-screen .board-container");a.addEventListener("click",function(){t.gameboard.setShipsRandomly(),e.removeShipsFromDOMGameboard(n),e.placeShipsOnGameboard(t.gameboard,n)})}const r=document.querySelector(".next-button.setup");r&&r.addEventListener("click",function(){const n=document.getElementById("name"),a=n?.value??"Player1";a&&t.setName(a),e.placeShipsOnGameboard(t.gameboard,t.getDomGameboard()),o.transitionFromPlayer1SetupToPlayer2PassDeviceScreen()})},setEventListenersOnSetupScreenForPlayer2:function(){const t=document.getElementById("name");t&&(t.value="Player2");const a=document.querySelector(".shuffle-button");if(document.querySelector(".setup-screen").classList.add("PVP-player2"),a){const t=document.querySelector(".setup-screen .board-container");a.addEventListener("click",function(){n.gameboard.setShipsRandomly(),e.removeShipsFromDOMGameboard(t),e.placeShipsOnGameboard(n.gameboard,t)})}const r=document.querySelector(".next-button.setup");r&&r.addEventListener("click",function(){const t=document.getElementById("name"),a=t?.value??"Player2";a&&n.setName(a),e.placeShipsOnGameboard(n.gameboard,n.getDomGameboard()),o.transitionFromPlayerSetupScreenToPlayer1PassDeviceScreen()})}}),{setEventListenersOnGameboard:d,setPlayers:function(e,a){t=e,n=a},removeEventListenersOnGameboard:m,setEventListenerOnNewGameButton:l,setEventListenersOnChooseModeScreen:function(){const a=document.querySelector(".pc-button"),r=document.querySelector(".player-button"),s=document.querySelector(".next-button.choose-mode");a.addEventListener("click",function(){r.classList.remove("active-mode"),a.classList.add("active-mode")}),r.addEventListener("click",function(){a.classList.remove("active-mode"),r.classList.add("active-mode")}),s.addEventListener("click",function(){if(r.classList.contains("active-mode"))o.transitionFromChooseModeToPlayer1PassDeviceScreen();else if(a.classList.contains("active-mode")){n.setMode("PC"),n.setName("PC"),e.removeChooseModeScreen(),t.gameboard.setShipsRandomly();const a=e.createDomGameboard();e.placeShipsOnGameboard(t.gameboard,a),e.renderSetupScreen(a),i()}})},setEventListenersOnSetupScreenForPlayerVsComputer:i}};o()})();
//# sourceMappingURL=main.js.map